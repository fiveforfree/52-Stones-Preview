(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const Ut=!1;var lt=Array.isArray,Rn=Array.prototype.indexOf,ft=Array.from,Me=Object.defineProperty,we=Object.getOwnPropertyDescriptor,zt=Object.getOwnPropertyDescriptors,qn=Object.prototype,Fn=Array.prototype,ct=Object.getPrototypeOf,It=Object.isExtensible;const ue=()=>{};function Un(e){return e()}function nt(e){for(var t=0;t<e.length;t++)e[t]()}function zn(){var e,t,n=new Promise((i,r)=>{e=i,t=r});return{promise:n,resolve:e,reject:t}}const N=2,dt=4,Ue=8,he=16,K=32,ie=64,Ht=128,R=256,Ne=512,j=1024,q=2048,$=4096,U=8192,ge=16384,ht=32768,Bt=65536,kt=1<<17,Hn=1<<18,Ie=1<<19,Vt=1<<20,it=1<<21,gt=1<<22,te=1<<23,ae=Symbol("$state"),Bn=Symbol(""),vt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Vn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Wn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Gn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Yn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Kn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Jn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Zn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Qn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function $n(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const ze=1,He=2,Wt=4,ei=8,ti=16,ni=1,ii=2,A=Symbol(),ri="http://www.w3.org/1999/xhtml";let oi=!1;function Gt(e){return e===this.v}function Yt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Kt(e){return!Yt(e,this.v)}let ke=!1,si=!1;function ui(){ke=!0}let S=null;function De(e){S=e}function Te(e,t=!1,n){S={p:S,c:null,e:null,s:e,x:null,l:ke&&!t?{s:null,u:null,$:[]}:null}}function Ae(e){var t=S,n=t.e;if(n!==null){t.e=null;for(var i of n)fn(i)}return S=t.p,{}}function Ce(){return!ke||S!==null&&S.l===null}const ai=new WeakMap;function li(e){var t=m;if(t===null)return p.f|=te,e;if((t.f&ht)===0){if((t.f&Ht)===0)throw!t.parent&&e instanceof Error&&Xt(e),e;t.b.error(e)}else _t(e,t)}function _t(e,t){for(;t!==null;){if((t.f&Ht)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Xt(e),e}function Xt(e){const t=ai.get(e);t&&(Me(e,"message",{value:t.message}),Me(e,"stack",{value:t.stack}))}let Re=[];function fi(){var e=Re;Re=[],nt(e)}function pt(e){Re.length===0&&queueMicrotask(fi),Re.push(e)}function ci(){for(var e=m.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Vn(),e}function Be(e){var t=N|q,n=p!==null&&(p.f&N)!==0?p:null;return m===null||n!==null&&(n.f&R)!==0?t|=R:m.f|=Ie,{ctx:S,deps:null,effects:null,equals:Gt,f:t,fn:e,reactions:null,rv:0,v:A,wv:0,parent:n??m,ac:null}}function di(e,t){let n=m;n===null&&Gn();var i=n.b,r=void 0,o=be(A),s=null,l=!p;return Ti(()=>{try{var u=e();s&&Promise.resolve(u).catch(()=>{})}catch(h){u=Promise.reject(h)}var a=()=>u;r=s?.then(a,a)??Promise.resolve(u),s=r;var f=C,g=i.pending;l&&(i.update_pending_count(1),g||f.increment());const d=(h,c=void 0)=>{s=null,g||f.activate(),c?c!==vt&&(o.f|=te,xe(o,c)):((o.f&te)!==0&&(o.f^=te),xe(o,h)),l&&(i.update_pending_count(-1),g||f.decrement()),en()};if(r.then(d,h=>d(null,h||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(u=>{function a(f){function g(){f===r?u(o):a(r)}f.then(g,g)}a(r)})}function Jt(e){const t=Be(e);return wn(t),t}function Zt(e){const t=Be(e);return t.equals=Kt,t}function Qt(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Y(t[n])}}function hi(e){for(var t=e.parent;t!==null;){if((t.f&N)===0)return t;t=t.parent}return null}function mt(e){var t,n=m;Q(hi(e));try{Qt(e),t=En(e)}finally{Q(n)}return t}function $t(e){var t=mt(e);if(e.equals(t)||(e.v=t,e.wv=bn()),!ve){var n=(J||(e.f&R)!==0)&&e.deps!==null?$:j;P(e,n)}}function gi(e,t,n){const i=Ce()?Be:Zt;if(t.length===0){n(e.map(i));return}var r=C,o=m,s=vi(),l=ci();Promise.all(t.map(u=>di(u))).then(u=>{r?.activate(),s();try{n([...e.map(i),...u])}catch(a){(o.f&ge)===0&&_t(a,o)}r?.deactivate(),en()}).catch(u=>{l.error(u)})}function vi(){var e=m,t=p,n=S,i=C;return function(){Q(e),B(t),De(n),i?.activate()}}function en(){Q(null),B(null),De(null)}const $e=new Set;let C=null,Tt=new Set,qe=[];function tn(){const e=qe.shift();qe.length>0&&queueMicrotask(tn),e()}let ye=[],wt=null,rt=!1;class ce{current=new Map;#a=new Map;#r=new Set;#e=0;#l=null;#f=!1;#n=[];#o=[];#i=[];#t=[];#s=[];#c=[];#d=[];skipped_effects=new Set;process(t){ye=[];for(const r of t)this.#g(r);if(this.#n.length===0&&this.#e===0){this.#h();var n=this.#i,i=this.#t;this.#i=[],this.#t=[],this.#s=[],C=null,At(n),At(i),C===null?C=this:$e.delete(this),this.#l?.resolve()}else this.#u(this.#i),this.#u(this.#t),this.#u(this.#s);for(const r of this.#n)fe(r);for(const r of this.#o)fe(r);this.#n=[],this.#o=[]}#g(t){t.f^=j;for(var n=t.first;n!==null;){var i=n.f,r=(i&(K|ie))!==0,o=r&&(i&j)!==0,s=o||(i&U)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(r)n.f^=j;else if((i&dt)!==0)this.#t.push(n);else if((i&j)===0)if((i&gt)!==0){var l=n.b?.pending?this.#o:this.#n;l.push(n)}else We(n)&&((n.f&he)!==0&&this.#s.push(n),fe(n));var u=n.first;if(u!==null){n=u;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}}#u(t){for(const n of t)((n.f&q)!==0?this.#c:this.#d).push(n),P(n,j);t.length=0}capture(t,n){this.#a.has(t)||this.#a.set(t,n),this.current.set(t,t.v)}activate(){C=this}deactivate(){C=null;for(const t of Tt)if(Tt.delete(t),t(),C!==null)break}neuter(){this.#f=!0}flush(){ye.length>0?_i():this.#h(),C===this&&(this.#e===0&&$e.delete(this),this.deactivate())}#h(){if(!this.#f)for(const t of this.#r)t();this.#r.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#c)P(t,q),de(t);for(const t of this.#d)P(t,$),de(t);this.#i=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#r.add(t)}settled(){return(this.#l??=zn()).promise}static ensure(){if(C===null){const t=C=new ce;$e.add(C),ce.enqueue(()=>{C===t&&t.flush()})}return C}static enqueue(t){qe.length===0&&queueMicrotask(tn),qe.unshift(t)}}function _i(){var e=le;rt=!0;try{var t=0;for(jt(!0);ye.length>0;){var n=ce.ensure();if(t++>1e3){var i,r;pi()}n.process(ye),Z.clear()}}finally{rt=!1,jt(e),wt=null}}function pi(){try{Jn()}catch(e){_t(e,wt)}}let ee=null;function At(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(ge|U))===0&&We(i)&&(ee=[],fe(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?gn(i):i.fn=null),ee?.length>0)){Z.clear();for(const r of ee)fe(r);ee=[]}}ee=null}}function de(e){for(var t=wt=e;t.parent!==null;){t=t.parent;var n=t.f;if(rt&&t===m&&(n&he)!==0)return;if((n&(ie|K))!==0){if((n&j)===0)return;t.f^=j}}ye.push(t)}const Z=new Map;function be(e,t){var n={f:0,v:e,reactions:null,equals:Gt,rv:0,wv:0};return n}function L(e,t){const n=be(e);return wn(n),n}function nn(e,t=!1,n=!0){const i=be(e);return t||(i.equals=Kt),ke&&n&&S!==null&&S.l!==null&&(S.l.s??=[]).push(i),i}function E(e,t,n=!1){p!==null&&(!H||(p.f&kt)!==0)&&Ce()&&(p.f&(N|he|gt|kt))!==0&&!G?.includes(e)&&$n();let i=n?se(t):t;return xe(e,i)}function xe(e,t){if(!e.equals(t)){var n=e.v;ve?Z.set(e,t):Z.set(e,n),e.v=t;var i=ce.ensure();i.capture(e,n),(e.f&N)!==0&&((e.f&q)!==0&&mt(e),P(e,(e.f&R)===0?j:$)),e.wv=bn(),rn(e,q),Ce()&&m!==null&&(m.f&j)!==0&&(m.f&(K|ie))===0&&(D===null?Li([e]):D.push(e))}return t}function et(e){E(e,e.v+1)}function rn(e,t){var n=e.reactions;if(n!==null)for(var i=Ce(),r=n.length,o=0;o<r;o++){var s=n[o],l=s.f;if(!(!i&&s===m)){var u=(l&q)===0;u&&P(s,t),(l&N)!==0?rn(s,$):u&&((l&he)!==0&&ee!==null&&ee.push(s),de(s))}}}function se(e){if(typeof e!="object"||e===null||ae in e)return e;const t=ct(e);if(t!==qn&&t!==Fn)return e;var n=new Map,i=lt(e),r=L(0),o=ne,s=l=>{if(ne===o)return l();var u=p,a=ne;B(null),Lt(o);var f=l();return B(u),Lt(a),f};return i&&n.set("length",L(e.length)),new Proxy(e,{defineProperty(l,u,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&Zn();var f=n.get(u);return f===void 0?f=s(()=>{var g=L(a.value);return n.set(u,g),g}):E(f,a.value,!0),!0},deleteProperty(l,u){var a=n.get(u);if(a===void 0){if(u in l){const f=s(()=>L(A));n.set(u,f),et(r)}}else E(a,A),et(r);return!0},get(l,u,a){if(u===ae)return e;var f=n.get(u),g=u in l;if(f===void 0&&(!g||we(l,u)?.writable)&&(f=s(()=>{var h=se(g?l[u]:A),c=L(h);return c}),n.set(u,f)),f!==void 0){var d=y(f);return d===A?void 0:d}return Reflect.get(l,u,a)},getOwnPropertyDescriptor(l,u){var a=Reflect.getOwnPropertyDescriptor(l,u);if(a&&"value"in a){var f=n.get(u);f&&(a.value=y(f))}else if(a===void 0){var g=n.get(u),d=g?.v;if(g!==void 0&&d!==A)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return a},has(l,u){if(u===ae)return!0;var a=n.get(u),f=a!==void 0&&a.v!==A||Reflect.has(l,u);if(a!==void 0||m!==null&&(!f||we(l,u)?.writable)){a===void 0&&(a=s(()=>{var d=f?se(l[u]):A,h=L(d);return h}),n.set(u,a));var g=y(a);if(g===A)return!1}return f},set(l,u,a,f){var g=n.get(u),d=u in l;if(i&&u==="length")for(var h=a;h<g.v;h+=1){var c=n.get(h+"");c!==void 0?E(c,A):h in l&&(c=s(()=>L(A)),n.set(h+"",c))}if(g===void 0)(!d||we(l,u)?.writable)&&(g=s(()=>L(void 0)),E(g,se(a)),n.set(u,g));else{d=g.v!==A;var v=s(()=>se(a));E(g,v)}var _=Reflect.getOwnPropertyDescriptor(l,u);if(_?.set&&_.set.call(f,a),!d){if(i&&typeof u=="string"){var I=n.get("length"),x=Number(u);Number.isInteger(x)&&x>=I.v&&E(I,x+1)}et(r)}return!0},ownKeys(l){y(r);var u=Reflect.ownKeys(l).filter(g=>{var d=n.get(g);return d===void 0||d.v!==A});for(var[a,f]of n)f.v!==A&&!(a in l)&&u.push(a);return u},setPrototypeOf(){Qn()}})}var Ct,on,sn,un;function mi(){if(Ct===void 0){Ct=window,on=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;sn=we(t,"firstChild").get,un=we(t,"nextSibling").get,It(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),It(n)&&(n.__t=void 0)}}function yt(e=""){return document.createTextNode(e)}function ot(e){return sn.call(e)}function Ve(e){return un.call(e)}function wi(e,t){{var n=ot(e);return n instanceof Comment&&n.data===""?Ve(n):n}}function yi(e,t=1,n=!1){let i=e;for(;t--;)i=Ve(i);return i}function bi(e){e.textContent=""}function xi(){return!1}function bt(e){var t=p,n=m;B(null),Q(null);try{return e()}finally{B(t),Q(n)}}function an(e){m===null&&p===null&&Xn(),p!==null&&(p.f&R)!==0&&m===null&&Kn(),ve&&Yn()}function Ei(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function V(e,t,n,i=!0){var r=m;r!==null&&(r.f&U)!==0&&(e|=U);var o={ctx:S,deps:null,nodes_start:null,nodes_end:null,f:e|q,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{fe(o),o.f|=ht}catch(u){throw Y(o),u}else t!==null&&de(o);if(i){var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Ie)===0&&(s=s.first),s!==null&&(s.parent=r,r!==null&&Ei(s,r),p!==null&&(p.f&N)!==0&&(e&ie)===0)){var l=p;(l.effects??=[]).push(s)}}return o}function ln(e){const t=V(Ue,null,!1);return P(t,j),t.teardown=e,t}function Ee(e){an();var t=m.f,n=!p&&(t&K)!==0&&(t&ht)===0;if(n){var i=S;(i.e??=[]).push(e)}else return fn(e)}function fn(e){return V(dt|Vt,e,!1)}function Si(e){return an(),V(Ue|Vt,e,!0)}function Ii(e){ce.ensure();const t=V(ie|Ie,e,!0);return(n={})=>new Promise(i=>{n.outro?vn(t,()=>{Y(t),i(void 0)}):(Y(t),i(void 0))})}function ki(e){return V(dt,e,!1)}function Ti(e){return V(gt|Ie,e,!0)}function Ai(e,t=0){return V(Ue|t,e,!0)}function cn(e,t=[],n=[]){gi(t,n,i=>{V(Ue,()=>e(...i.map(y)),!0)})}function Ci(e,t=0){var n=V(he|t,e,!0);return n}function xt(e,t=!0){return V(K|Ie,e,!0,t)}function dn(e){var t=e.teardown;if(t!==null){const n=ve,i=p;Ot(!0),B(null);try{t.call(null)}finally{Ot(n),B(i)}}}function hn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&bt(()=>{r.abort(vt)});var i=n.next;(n.f&ie)!==0?n.parent=null:Y(n,t),n=i}}function ji(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&K)===0&&Y(t),t=n}}function Y(e,t=!0){var n=!1;(t||(e.f&Hn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Oi(e.nodes_start,e.nodes_end),n=!0),hn(e,t&&!n),Fe(e,0),P(e,ge);var i=e.transitions;if(i!==null)for(const o of i)o.stop();dn(e);var r=e.parent;r!==null&&r.first!==null&&gn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Oi(e,t){for(;e!==null;){var n=e===t?null:Ve(e);e.remove(),e=n}}function gn(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function vn(e,t){var n=[];Et(e,n,!0),_n(n,()=>{Y(e),t&&t()})}function _n(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var r of e)r.out(i)}else t()}function Et(e,t,n){if((e.f&U)===0){if(e.f^=U,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var i=e.first;i!==null;){var r=i.next,o=(i.f&Bt)!==0||(i.f&K)!==0;Et(i,t,o?n:!1),i=r}}}function pn(e){mn(e,!0)}function mn(e,t){if((e.f&U)!==0){e.f^=U,(e.f&j)===0&&(P(e,q),de(e));for(var n=e.first;n!==null;){var i=n.next,r=(n.f&Bt)!==0||(n.f&K)!==0;mn(n,r?t:!1),n=i}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let le=!1;function jt(e){le=e}let ve=!1;function Ot(e){ve=e}let p=null,H=!1;function B(e){p=e}let m=null;function Q(e){m=e}let G=null;function wn(e){p!==null&&(G===null?G=[e]:G.push(e))}let O=null,M=0,D=null;function Li(e){D=e}let yn=1,Se=0,ne=Se;function Lt(e){ne=e}let J=!1;function bn(){return++yn}function We(e){var t=e.f;if((t&q)!==0)return!0;if((t&$)!==0){var n=e.deps,i=(t&R)!==0;if(n!==null){var r,o,s=(t&Ne)!==0,l=i&&m!==null&&!J,u=n.length;if((s||l)&&(m===null||(m.f&ge)===0)){var a=e,f=a.parent;for(r=0;r<u;r++)o=n[r],(s||!o?.reactions?.includes(a))&&(o.reactions??=[]).push(a);s&&(a.f^=Ne),l&&f!==null&&(f.f&R)===0&&(a.f^=R)}for(r=0;r<u;r++)if(o=n[r],We(o)&&$t(o),o.wv>e.wv)return!0}(!i||m!==null&&!J)&&P(e,j)}return!1}function xn(e,t,n=!0){var i=e.reactions;if(i!==null&&!G?.includes(e))for(var r=0;r<i.length;r++){var o=i[r];(o.f&N)!==0?xn(o,t,!1):t===o&&(n?P(o,q):(o.f&j)!==0&&P(o,$),de(o))}}function En(e){var t=O,n=M,i=D,r=p,o=J,s=G,l=S,u=H,a=ne,f=e.f;O=null,M=0,D=null,J=(f&R)!==0&&(H||!le||p===null),p=(f&(K|ie))===0?e:null,G=null,De(e.ctx),H=!1,ne=++Se,e.ac!==null&&(bt(()=>{e.ac.abort(vt)}),e.ac=null);try{e.f|=it;var g=e.fn,d=g(),h=e.deps;if(O!==null){var c;if(Fe(e,M),h!==null&&M>0)for(h.length=M+O.length,c=0;c<O.length;c++)h[M+c]=O[c];else e.deps=h=O;if(!J||(f&N)!==0&&e.reactions!==null)for(c=M;c<h.length;c++)(h[c].reactions??=[]).push(e)}else h!==null&&M<h.length&&(Fe(e,M),h.length=M);if(Ce()&&D!==null&&!H&&h!==null&&(e.f&(N|$|q))===0)for(c=0;c<D.length;c++)xn(D[c],e);return r!==null&&r!==e&&(Se++,D!==null&&(i===null?i=D:i.push(...D))),(e.f&te)!==0&&(e.f^=te),d}catch(v){return li(v)}finally{e.f^=it,O=t,M=n,D=i,p=r,J=o,G=s,De(l),H=u,ne=a}}function Pi(e,t){let n=t.reactions;if(n!==null){var i=Rn.call(n,e);if(i!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[i]=n[r],n.pop())}}n===null&&(t.f&N)!==0&&(O===null||!O.includes(t))&&(P(t,$),(t.f&(R|Ne))===0&&(t.f^=Ne),Qt(t),Fe(t,0))}function Fe(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Pi(e,n[i])}function fe(e){var t=e.f;if((t&ge)===0){P(e,j);var n=m,i=le;m=e,le=!0;try{(t&he)!==0?ji(e):hn(e),dn(e);var r=En(e);e.teardown=typeof r=="function"?r:null,e.wv=yn;var o;Ut&&si&&(e.f&q)!==0&&e.deps}finally{le=i,m=n}}}function y(e){var t=e.f,n=(t&N)!==0;if(p!==null&&!H){var i=m!==null&&(m.f&ge)!==0;if(!i&&!G?.includes(e)){var r=p.deps;if((p.f&it)!==0)e.rv<Se&&(e.rv=Se,O===null&&r!==null&&r[M]===e?M++:O===null?O=[e]:(!J||!O.includes(e))&&O.push(e));else{(p.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[p]:o.includes(p)||o.push(p)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,l=s.parent;l!==null&&(l.f&R)===0&&(s.f^=R)}if(ve){if(Z.has(e))return Z.get(e);if(n){s=e;var u=s.v;return((s.f&j)===0&&s.reactions!==null||Sn(s))&&(u=mt(s)),Z.set(s,u),u}}else n&&(s=e,We(s)&&$t(s));if((e.f&te)!==0)throw e.v;return e.v}function Sn(e){if(e.v===A)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Z.has(t)||(t.f&N)!==0&&Sn(t))return!0;return!1}function Ge(e){var t=H;try{return H=!0,e()}finally{H=t}}const Mi=-7169;function P(e,t){e.f=e.f&Mi|t}function Ni(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ae in e)st(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ae in n&&st(n)}}}function st(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{st(e[i],t)}catch{}const n=ct(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=zt(n);for(let r in i){const o=i[r].get;if(o)try{o.call(e)}catch{}}}}}const Di=["touchstart","touchmove"];function Ri(e){return Di.includes(e)}const In=new Set,ut=new Set;function qi(e,t,n,i={}){function r(o){if(i.capture||pe.call(t,o),!o.cancelBubble)return bt(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?pt(()=>{t.addEventListener(e,r,i)}):t.addEventListener(e,r,i),r}function Pt(e,t,n,i,r){var o={capture:i,passive:r},s=qi(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ln(()=>{t.removeEventListener(e,s,o)})}function Ye(e){for(var t=0;t<e.length;t++)In.add(e[t]);for(var n of ut)n(e)}let Mt=null;function pe(e){var t=this,n=t.ownerDocument,i=e.type,r=e.composedPath?.()||[],o=r[0]||e.target;Mt=e;var s=0,l=Mt===e&&e.__root;if(l){var u=r.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var a=r.indexOf(t);if(a===-1)return;u<=a&&(s=u)}if(o=r[s]||e.target,o!==t){Me(e,"currentTarget",{configurable:!0,get(){return o||n}});var f=p,g=m;B(null),Q(null);try{for(var d,h=[];o!==null;){var c=o.assignedSlot||o.parentNode||o.host||null;try{var v=o["__"+i];if(v!=null&&(!o.disabled||e.target===o))if(lt(v)){var[_,...I]=v;_.apply(o,[e,...I])}else v.call(o,e)}catch(x){d?h.push(x):d=x}if(e.cancelBubble||c===t||c===null)break;o=c}if(d){for(let x of h)queueMicrotask(()=>{throw x});throw d}}finally{e.__root=t,delete e.currentTarget,B(f),Q(g)}}}function Fi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Nt(e,t){var n=m;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Ke(e,t){var n=(t&ni)!==0,i=(t&ii)!==0,r,o=!e.startsWith("<!>");return()=>{r===void 0&&(r=Fi(o?e:"<!>"+e),n||(r=ot(r)));var s=i||on?document.importNode(r,!0):r.cloneNode(!0);if(n){var l=ot(s),u=s.lastChild;Nt(l,u)}else Nt(s,s);return s}}function Xe(e,t){e!==null&&e.before(t)}function Ui(e,t){return zi(e,t)}const re=new Map;function zi(e,{target:t,anchor:n,props:i={},events:r,context:o,intro:s=!0}){mi();var l=new Set,u=g=>{for(var d=0;d<g.length;d++){var h=g[d];if(!l.has(h)){l.add(h);var c=Ri(h);t.addEventListener(h,pe,{passive:c});var v=re.get(h);v===void 0?(document.addEventListener(h,pe,{passive:c}),re.set(h,1)):re.set(h,v+1)}}};u(ft(In)),ut.add(u);var a=void 0,f=Ii(()=>{var g=n??t.appendChild(yt());return xt(()=>{if(o){Te({});var d=S;d.c=o}r&&(i.$$events=r),a=e(g,i)||{},o&&Ae()}),()=>{for(var d of l){t.removeEventListener(d,pe);var h=re.get(d);--h===0?(document.removeEventListener(d,pe),re.delete(d)):re.set(d,h)}ut.delete(u),g!==n&&g.parentNode?.removeChild(g)}});return Hi.set(a,f),a}let Hi=new WeakMap;function kn(e,t){return t}function Bi(e,t,n){for(var i=e.items,r=[],o=t.length,s=0;s<o;s++)Et(t[s].e,r,!0);var l=o>0&&r.length===0&&n!==null;if(l){var u=n.parentNode;bi(u),u.append(n),i.clear(),z(e,t[0].prev,t[o-1].next)}_n(r,()=>{for(var a=0;a<o;a++){var f=t[a];l||(i.delete(f.k),z(e,f.prev,f.next)),Y(f.e,!l)}})}function Tn(e,t,n,i,r,o=null){var s=e,l={flags:t,items:new Map,first:null},u=(t&Wt)!==0;if(u){var a=e;s=a.appendChild(yt())}var f=null,g=!1,d=new Map,h=Zt(()=>{var I=n();return lt(I)?I:I==null?[]:ft(I)}),c,v;function _(){Vi(v,c,l,d,s,r,t,i,n),o!==null&&(c.length===0?f?pn(f):f=xt(()=>o(s)):f!==null&&vn(f,()=>{f=null}))}Ci(()=>{v??=m,c=y(h);var I=c.length;if(!(g&&I===0)){g=I===0;var x,T,F,k;if(xi()){var w=new Set,b=C;for(T=0;T<I;T+=1){F=c[T],k=i(F,T);var W=l.items.get(k)??d.get(k);W?(t&(ze|He))!==0&&An(W,F,T,t):(x=Cn(null,l,null,null,F,k,T,r,t,n,!0),d.set(k,x)),w.add(k)}for(const[je,Je]of l.items)w.has(je)||b.skipped_effects.add(Je.e);b.add_callback(_)}else _();y(h)}})}function Vi(e,t,n,i,r,o,s,l,u){var a=(s&ei)!==0,f=(s&(ze|He))!==0,g=t.length,d=n.items,h=n.first,c=h,v,_=null,I,x=[],T=[],F,k,w,b;if(a)for(b=0;b<g;b+=1)F=t[b],k=l(F,b),w=d.get(k),w!==void 0&&(w.a?.measure(),(I??=new Set).add(w));for(b=0;b<g;b+=1){if(F=t[b],k=l(F,b),w=d.get(k),w===void 0){var W=i.get(k);if(W!==void 0){i.delete(k),d.set(k,W);var je=_?_.next:c;z(n,_,W),z(n,W,je),tt(W,je,r),_=W}else{var Je=c?c.e.nodes_start:r;_=Cn(Je,n,_,_===null?n.first:_.next,F,k,b,o,s,u)}d.set(k,_),x=[],T=[],c=_.next;continue}if(f&&An(w,F,b,s),(w.e.f&U)!==0&&(pn(w.e),a&&(w.a?.unfix(),(I??=new Set).delete(w))),w!==c){if(v!==void 0&&v.has(w)){if(x.length<T.length){var Oe=T[0],X;_=Oe.prev;var St=x[0],Ze=x[x.length-1];for(X=0;X<x.length;X+=1)tt(x[X],Oe,r);for(X=0;X<T.length;X+=1)v.delete(T[X]);z(n,St.prev,Ze.next),z(n,_,St),z(n,Ze,Oe),c=Oe,_=Ze,b-=1,x=[],T=[]}else v.delete(w),tt(w,c,r),z(n,w.prev,w.next),z(n,w,_===null?n.first:_.next),z(n,_,w),_=w;continue}for(x=[],T=[];c!==null&&c.k!==k;)(c.e.f&U)===0&&(v??=new Set).add(c),T.push(c),c=c.next;if(c===null)continue;w=c}x.push(w),_=w,c=w.next}if(c!==null||v!==void 0){for(var _e=v===void 0?[]:ft(v);c!==null;)(c.e.f&U)===0&&_e.push(c),c=c.next;var Qe=_e.length;if(Qe>0){var Nn=(s&Wt)!==0&&g===0?r:null;if(a){for(b=0;b<Qe;b+=1)_e[b].a?.measure();for(b=0;b<Qe;b+=1)_e[b].a?.fix()}Bi(n,_e,Nn)}}a&&pt(()=>{if(I!==void 0)for(w of I)w.a?.apply()}),e.first=n.first&&n.first.e,e.last=_&&_.e;for(var Dn of i.values())Y(Dn.e);i.clear()}function An(e,t,n,i){(i&ze)!==0&&xe(e.v,t),(i&He)!==0?xe(e.i,n):e.i=n}function Cn(e,t,n,i,r,o,s,l,u,a,f){var g=(u&ze)!==0,d=(u&ti)===0,h=g?d?nn(r,!1,!1):be(r):r,c=(u&He)===0?s:be(s),v={i:c,v:h,k:o,a:null,e:null,prev:n,next:i};try{if(e===null){var _=document.createDocumentFragment();_.append(e=yt())}return v.e=xt(()=>l(e,h,c,a),oi),v.e.prev=n&&n.e,v.e.next=i&&i.e,n===null?f||(t.first=v):(n.next=v,n.e.next=v.e),i!==null&&(i.prev=v,i.e.prev=v.e),v}finally{}}function tt(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==i;){var s=Ve(o);r.before(o),o=s}}function z(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Wi(e,t){return e==null?null:String(e)}function jn(e,t,n,i){var r=e.__style;if(r!==t){var o=Wi(t);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}return i}const Gi=Symbol("is custom element"),Yi=Symbol("is html");function me(e,t,n,i){var r=Ki(e);r[t]!==(r[t]=n)&&(t==="loading"&&(e[Bn]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Xi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ki(e){return e.__attributes??={[Gi]:e.nodeName.includes("-"),[Yi]:e.namespaceURI===ri}}var Dt=new Map;function Xi(e){var t=e.getAttribute("is")||e.nodeName,n=Dt.get(t);if(n)return n;Dt.set(t,n=[]);for(var i,r=e,o=Element.prototype;o!==r;){i=zt(r);for(var s in i)i[s].set&&n.push(s);r=ct(r)}return n}function Rt(e,t){return e===t||e?.[ae]===t}function Ji(e={},t,n,i){return ki(()=>{var r,o;return Ai(()=>{r=o,o=[],Ge(()=>{e!==n(...o)&&(t(e,...o),r&&Rt(n(...r),e)&&t(null,...r))})}),()=>{pt(()=>{o&&Rt(n(...o),e)&&t(null,...o)})}}),e}function Zi(e=!1){const t=S,n=t.l.u;if(!n)return;let i=()=>Ni(t.s);if(e){let r=0,o={};const s=Be(()=>{let l=!1;const u=t.s;for(const a in u)u[a]!==o[a]&&(o[a]=u[a],l=!0);return l&&r++,r});i=()=>y(s)}n.b.length&&Si(()=>{qt(t,i),nt(n.b)}),Ee(()=>{const r=Ge(()=>n.m.map(Un));return()=>{for(const o of r)typeof o=="function"&&o()}}),n.a.length&&Ee(()=>{qt(t,i),nt(n.a)})}function qt(e,t){if(e.l.s)for(const n of e.l.s)y(n);t()}function On(e,t,n){if(e==null)return t(void 0),ue;const i=Ge(()=>e.subscribe(t,n));return i.unsubscribe?()=>i.unsubscribe():i}const oe=[];function Qi(e,t=ue){let n=null;const i=new Set;function r(l){if(Yt(e,l)&&(e=l,n)){const u=!oe.length;for(const a of i)a[1](),oe.push(a,e);if(u){for(let a=0;a<oe.length;a+=2)oe[a][0](oe[a+1]);oe.length=0}}}function o(l){r(l(e))}function s(l,u=ue){const a=[l,u];return i.add(a),i.size===1&&(n=t(r,o)||ue),l(e),()=>{i.delete(a),i.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:s}}function $i(e){let t;return On(e,n=>t=n)(),t}let at=Symbol();function Ln(e,t,n){const i=n[t]??={store:null,source:nn(void 0),unsubscribe:ue};if(i.store!==e&&!(at in n))if(i.unsubscribe(),i.store=e??null,e==null)i.source.v=void 0,i.unsubscribe=ue;else{var r=!0;i.unsubscribe=On(e,o=>{r?i.source.v=o:E(i.source,o)}),r=!1}return e&&at in n?$i(e):y(i.source)}function Ft(e,t){return e.set(t),t}function Pn(){const e={};function t(){ln(()=>{for(var n in e)e[n].unsubscribe();Me(e,at,{enumerable:!1,value:!0})})}return[e,t]}function Mn(e){S===null&&Wn(),ke&&S.l!==null?er(S).m.push(e):Ee(()=>{const t=Ge(e);if(typeof t=="function")return t})}function er(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const tr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(tr);ui();Ye(["click","touchstart","mouseover"]);class nr{constructor(t,n,i){const r=`audio/${n.audio}`;this.stoneData=n,this.endedCallback=i,this.ended=!1,this.playing=!1,this.source=t.createBufferSource(),this.source.connect(t.destination),this.request=new XMLHttpRequest,this.request.open("GET",r),this.request.responseType="arraybuffer",this.request.onload=()=>{let o=this.request.response;t.decodeAudioData(o,s=>this.source.buffer=s),this.playing||(this.playing=!0,this.source.start())},this.source.onended=o=>{this.ended=!0,this.endedCallback({e:o,stone:this.stoneData})}}start(){this.request.send()}stop(){this.ended||this.source.stop()}}class ir{constructor(){this.initialised=!1}initialise(){this.audioCtx=new AudioContext}stop(){this.source&&this.source.stop()}play(t,n){return this.stoneData&&this.stoneData.number===t.number&&!this.source.ended?(this.stop(),!1):(this.initialised||(this.initialise(),this.initialised=!0),this.stop(),this.endedCallback=n,this.stoneData=t,this.source=new nr(this.audioCtx,t,n),this.source.start(),!0)}}const Le=[{image:"stone-000.jpg",audio:"Image01.ogg",number:"1",width:840,height:798,position:{x:-.25,y:-.25}},{image:"stone-001.jpg",audio:"Image02.ogg",number:"2",width:1043,height:1082,position:{x:-.1501,y:-.25}},{image:"stone-002.jpg",audio:"Image03.ogg",number:"3",width:950,height:693,position:{x:-.05,y:-.25}},{image:"stone-003.jpg",audio:"Image04.ogg",number:"4",width:833,height:867,position:{x:.05,y:-.25}},{image:"stone-004.jpg",audio:"Image05.ogg",number:"5",width:861,height:735,position:{x:.15,y:-.25}},{image:"stone-005.jpg",audio:"Image06.ogg",number:"6",width:863,height:819,position:{x:.25,y:-.25}},{image:"stone-006.jpg",audio:"Image07.ogg",number:"7",width:903,height:922,position:{x:-.45,y:-.1501}},{image:"stone-007.jpg",audio:"Image08.ogg",number:"8",width:776,height:685,position:{x:-.35,y:-.1501}},{image:"stone-008.jpg",audio:"Image09.ogg",number:"9",width:903,height:1105,position:{x:-.25,y:-.1501}},{image:"stone-009.jpg",audio:"Image10.ogg",number:"10",width:880,height:893,position:{x:-.15,y:-.1501}},{image:"stone-011.jpg",audio:"Image11.ogg",number:"11",width:473,height:553,position:{x:-.05,y:-.1501}},{image:"stone-012.jpg",audio:"Image12.ogg",number:"12",width:472,height:546,position:{x:.05,y:-.1501}},{image:"stone-013.jpg",audio:"Image13.ogg",number:"13",width:476,height:526,position:{x:.15,y:-.1501}},{image:"stone-014.jpg",audio:"Image14.ogg",number:"14",width:467,height:533,position:{x:.25,y:-.1501}},{image:"stone-015.jpg",audio:"Image15.ogg",number:"15",width:468,height:527,position:{x:.35,y:-.1501}},{image:"stone-016.jpg",audio:"Image16.ogg",number:"16",width:883,height:820,position:{x:.45,y:-.1501}},{image:"stone-017.jpg",audio:"Image17.ogg",number:"17",width:465,height:513,position:{x:-.45,y:-.05}},{image:"stone-018.jpg",audio:"Image18.ogg",number:"18",width:469,height:546,position:{x:-.35,y:-.05}},{image:"stone-019.jpg",audio:"Image19.ogg",number:"19",width:807,height:904,position:{x:-.25,y:-.05}},{image:"stone-020.jpg",audio:"Image20.ogg",number:"20",width:848,height:848,position:{x:-.15,y:-.05}},{image:"stone-021.jpg",audio:"Image21.ogg",number:"21",width:900,height:932,position:{x:-.05,y:-.05}},{image:"stone-022.jpg",audio:"Image22.ogg",number:"22",width:469,height:519,position:{x:.05,y:-.05}},{image:"stone-023.jpg",audio:"Image23.ogg",number:"23",width:469,height:524,position:{x:.15,y:-.05}},{image:"stone-024.jpg",audio:"Image24.ogg",number:"24",width:476,height:508,position:{x:.25,y:-.05}},{image:"stone-025.jpg",audio:"Image25.ogg",number:"25",width:476,height:517,position:{x:.35,y:-.05}},{image:"stone-026.jpg",audio:"Image26.ogg",number:"26",width:852,height:810,position:{x:.45,y:-.05}},{image:"stone-027.jpg",audio:"Image27.ogg",number:"27",width:852,height:842,position:{x:-.45,y:.05}},{image:"stone-028.jpg",audio:"Image28.ogg",number:"28",width:686,height:759,position:{x:-.35,y:.05}},{image:"stone-029.jpg",audio:"Image29.ogg",number:"29",width:476,height:528,position:{x:-.25,y:.05}},{image:"stone-030.jpg",audio:"Image30.ogg",number:"30",width:815,height:789,position:{x:-.15,y:.05}},{image:"stone-031.jpg",audio:"Image31.ogg",number:"31",width:859,height:945,position:{x:-.05,y:.05}},{image:"stone-032.jpg",audio:"Image32.ogg",number:"32",width:970,height:806,position:{x:.05,y:.05}},{image:"stone-033.jpg",audio:"Image33.ogg",number:"33",width:464,height:529,position:{x:.15,y:.05}},{image:"stone-034.jpg",audio:"Image34.ogg",number:"34",width:412,height:394,position:{x:.25,y:.05}},{image:"stone-035.jpg",audio:"Image35.ogg",number:"35",width:469,height:537,position:{x:.35,y:.05}},{image:"stone-036.jpg",audio:"Image36.ogg",number:"36",width:923,height:852,position:{x:.45,y:.05}},{image:"stone-037.jpg",audio:"Image37.ogg",number:"37",width:920,height:890,position:{x:-.45,y:.15}},{image:"stone-038.jpg",audio:"Image38a.ogg",number:"38a",width:473,height:532,position:{x:-.35,y:.15}},{image:"stone-039.jpg",audio:"Image38b.ogg",number:"38b",width:855,height:861,position:{x:-.25,y:.15}},{image:"stone-040.jpg",audio:"Image39.ogg",number:"39",width:476,height:542,position:{x:-.15,y:.15}},{image:"stone-041.jpg",audio:"Image40.ogg",number:"40",width:497,height:473,position:{x:-.05,y:.15}},{image:"stone-042.jpg",audio:"Image41.ogg",number:"41",width:473,height:537,position:{x:.05,y:.15}},{image:"stone-043.jpg",audio:"Image42.ogg",number:"42",width:462,height:540,position:{x:.15,y:.15}},{image:"stone-044.jpg",audio:"Image43.ogg",number:"43",width:465,height:536,position:{x:.25,y:.15}},{image:"stone-045.jpg",audio:"Image44.ogg",number:"44",width:471,height:506,position:{x:.35,y:.15}},{image:"stone-046.jpg",audio:"Image45.ogg",number:"45",width:470,height:527,position:{x:.45,y:.15}},{image:"stone-047.jpg",audio:"Image46.ogg",number:"46",width:1080,height:1089,position:{x:-.3001,y:.25}},{image:"stone-048.jpg",audio:"Image47.ogg",number:"47",width:467,height:541,position:{x:-.2001,y:.25}},{image:"stone-049.jpg",audio:"Image48.ogg",number:"48",width:877,height:729,position:{x:-.1001,y:.25}},{image:"stone-050.jpg",audio:"Image49.ogg",number:"49",width:466,height:526,position:{x:0,y:.25}},{image:"stone-051.jpg",audio:"Image50.ogg",number:"50",width:468,height:498,position:{x:.0999,y:.25}},{image:"stone-052.jpg",audio:"Image51.ogg",number:"51",width:844,height:745,position:{x:.1999,y:.25}},{image:"stone-053.jpg",audio:"Image52.ogg",number:"52",width:465,height:548,position:{x:.3,y:.25}}];function rr(e,t){t.onclick&&t.onclick(t.index)}function or(e,t){E(t,!0)}var sr=Ke('<input type="image" class="svelte-1189kcb"/>');function ur(e,t){Te(t,!0);let n=L(!1),i,r=L(""),o=L(se(t.grid.cellSize)),s=Jt(()=>y(o)/t.width),l,u=!1,a=(h,c,v,_)=>"";Mn(()=>{l.style.zIndex=0,t.imageLoader.onAllLoaded(()=>{u=!0,l.src=t.imageLoader.imageUrls[t.index],E(r,a(i,t.isActive,y(n),u),!0)}),a=(h,c,v,_)=>t.styler?t.styler(h,y(s),t.width,t.height,c,v,_,y(o),l):""}),Ee(()=>{i=t.grid.getPosition(t.grid.getGridCoords(t.index)),E(o,t.grid.cellSize,!0),E(r,a(i,t.isActive,y(n),u),!0)});function f(){E(n,!1)}function g(){}var d=sr();me(d,"src",null),d.__click=[rr,t],d.__mouseover=[or,n],Ji(d,h=>l=h,()=>l),cn(()=>{jn(d,y(r)),me(d,"width",y(o)),me(d,"height",y(o)*t.height/t.width),me(d,"alt",t.alt)}),Pt("mouseleave",d,f),Pt("focus",d,g),Xe(e,d),Ae()}Ye(["click","mouseover"]);const Pe=Qi(null);function ar(e,t){Te(t,!0);const[n,i]=Pn(),r=()=>Ln(Pe,"$playingStone",n);let o=L(!1);function s(){E(o,t.player.play(t.stone,l),!0),y(o)&&Ft(Pe,{stone:t.stone,index:t.index})}function l(){E(o,!1),r().index===t.index&&Ft(Pe,null)}{let u=Jt(()=>`Stone number ${t.stone.number}`);ur(e,{get file(){return t.stone.image},get index(){return t.index},get grid(){return t.grid},get width(){return t.stone.width},get height(){return t.stone.height},get alt(){return y(u)},onclick:s,get styler(){return t.styler},get isActive(){return y(o)},get imageLoader(){return t.imageLoader}})}Ae(),i()}var lr=Ke("<main></main>");function fr(e,t){const n="#909087",i="#303027";function r(s,l,u,a,f,g,d,h,c){let v="";if(s){const _=s.vCentre-l*a/2;v+=`left: ${s.left}px; top: ${_}px;`,v+=`width: ${h}px;`,c.height=h*a/u,f?(v+=`border-color: ${n};`,v+="opacity: 1;"):g&&(v+=`border-color: ${i};`)}return g&&(v+="filter: contrast(1.2);",v+="filter: brightness(1.2);"),d?v+="opacity: 1;":v+="opacity: 0;",v}var o=lr();Tn(o,21,()=>t.stones,kn,(s,l,u)=>{ar(s,{get stone(){return y(l)},index:u,get grid(){return t.grid},get player(){return t.player},styler:r,get imageLoader(){return t.imageLoader}})}),Xe(e,o)}class cr{constructor(t,n,i,r,o,s,l){this.width=t,this.height=n,this.columns=i,this.items=r,this.minHEdgePadding=o,this.minVEdgePadding=s,this.gridPadding=l,this.rows=this.getGridCoords(r-1).row+1,this.calculateCellSize()}calculateCellSize(){const t=this.columns-1;this.gapSize=Math.floor(this.height*this.gridPadding);const n=this.width*(2*this.minHEdgePadding)+t*this.gapSize,i=Math.floor((this.width-n)/this.columns),r=this.rows-1,o=this.width*2*this.minVEdgePadding+r*this.gapSize,s=Math.floor((this.height-o)/this.rows);this.cellSize=Math.min(i,s),this.columns*this.cellSize+t*this.gapSize,this.hEdgePadding=Math.floor((this.width-this.columns*this.cellSize-t*this.gapSize)/2),this.vEdgePadding=Math.floor((this.height-this.rows*this.cellSize-r*this.gapSize)/2)}getGridCoords(t){const n=Math.floor(t/this.columns),i=t%this.columns;return{row:n,column:i}}getPosition(t){const{row:n,column:i}=t,r=this.hEdgePadding+i*(this.cellSize+this.gapSize),o=this.vEdgePadding+this.cellSize/2+n*(this.cellSize+this.gapSize);return{left:r,vCentre:o}}}Ye(["click"]);class dr{constructor(t,n){this.containerWidth=t,this.containerHeight=n}setElementDimensions(t,n){this.elementDimensions={width:t,height:n}}getOffsets(){const t=(this.containerWidth-this.elementDimensions.width)/2,n=(this.containerHeight-this.elementDimensions.height)/2;return{left:t,top:n}}getCSS(){if(!this.elementDimensions)return"";const t=this.getOffsets();return`left: ${t.left}px; top: ${t.top}px;`}}class hr{constructor(t){this.imageUrls=Array(t.length);let n=0;for(const i of t){const r=n,o=new XMLHttpRequest;o.open("GET",`images/${i.image}`,!0),o.responseType="arraybuffer",o.onload=s=>{const l=new Uint8Array(o.response),u=new Blob([l],{type:"image/jpeg"}),f=(window.URL||window.webkitURL).createObjectURL(u);this.onloaded(r,f)},o.send(),n++}this.loadedCount=0,console.log(Date.now().valueOf()),this.timerStart=Date.now().valueOf(),this.callbacks=[]}onloaded(t,n){this.imageUrls[t]=n,this.loadedCount++,this.loadedCount===this.imageUrls.length&&(console.log(`All loaded in ${Date.now().valueOf()-this.timerStart}ms`),this.callbacks.forEach(i=>i()))}onAllLoaded(t){this.callbacks.push(t)}}function gr(e,t){t.player.stop()}var vr=Ke('<img class="svelte-1p76oej"/>');function _r(e,t){Te(t,!0);const[n,i]=Pn(),r=()=>Ln(Pe,"$playingStone",n),o=1e3;let s=L(""),l=L(null);const u=new dr(t.windowWidth,t.windowHeight);u.setElementDimensions(t.stone.width,t.stone.height),E(s,u.getCSS(),!0),Mn(()=>{t.imageLoader.onAllLoaded(()=>{E(l,t.imageLoader.imageUrls[t.index],!0)})});function a(){d(),setTimeout(h)}function f(){d(),setTimeout(g,o)}function g(){E(s,`position: absolute;transition: ${o/1e3}s ease-in-out;display: none;`+u.getCSS())}function d(){E(s,`position: absolute;transition: ${o/1e3}s ease-in-out;display: inline-block;opacity: 0;`+u.getCSS())}function h(){E(s,`position: absolute;transition: ${o/1e3}s ease-in-out;display: inline-block;opacity: 1;`+u.getCSS())}function c(_){_===null?f():_.index===t.index?a():f()}Ee(()=>{c(r())});var v=vr();v.__click=[gr,t],cn(()=>{jn(v,y(s)),me(v,"src",y(l))}),Xe(e,v),Ae(),i()}Ye(["click"]);var pr=Ke("<!> <!>",1);function mr(e,t){Te(t,!1);const n=new hr(Le);let i=document.body.clientWidth,r=document.body.clientHeight;const o=new cr(i,r,9,Le.length,.01,.02,.03),s=new ir;Zi();var l=pr(),u=wi(l);fr(u,{get stones(){return Le},get grid(){return o},get imageLoader(){return n},get player(){return s}});var a=yi(u,2);Tn(a,1,()=>Le,kn,(f,g,d)=>{_r(f,{index:d,get stone(){return y(g)},get imageLoader(){return n},get windowWidth(){return i},get windowHeight(){return r},get player(){return s}})}),Xe(e,l),Ae()}Ui(mr,{target:document.getElementById("app")});
