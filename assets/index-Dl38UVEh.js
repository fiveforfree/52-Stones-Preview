(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();const _i=!1;var At=Array.isArray,Mn=Array.prototype.indexOf,jt=Array.from,$e=Object.defineProperty,Ne=Object.getOwnPropertyDescriptor,Dn=Object.getOwnPropertyDescriptors,On=Object.prototype,Rn=Array.prototype,mi=Object.getPrototypeOf,ii=Object.isExtensible;const ve=()=>{};function pi(e){for(var t=0;t<e.length;t++)e[t]()}function Gn(){var e,t,i=new Promise((n,r)=>{e=n,t=r});return{promise:i,resolve:e,reject:t}}const N=2,Ht=4,Lt=8,Me=16,se=32,we=64,wi=128,U=256,et=512,M=1024,V=2048,de=4096,Y=8192,De=16384,Mt=32768,st=65536,ni=1<<17,Wn=1<<18,Ye=1<<19,Nn=1<<20,St=1<<21,Dt=1<<22,_e=1<<23,Ke=Symbol("$state"),Fn=Symbol(""),Ot=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function qn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Un(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Vn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Bn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Kn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Jn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Zn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const at=1,ot=2,bi=4,$n=8,er=16,tr=1,ir=2,L=Symbol(),nr="http://www.w3.org/1999/xhtml";let rr=!1;function yi(e){return e===this.v}function Ei(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Si(e){return!Ei(e,this.v)}let sr=!1,B=null;function tt(e){B=e}function be(e,t=!1,i){B={p:B,c:null,e:null,s:e,x:null,l:null}}function ye(e){var t=B,i=t.e;if(i!==null){t.e=null;for(var n of i)Wi(n)}return B=t.p,{}}function xi(){return!0}const ar=new WeakMap;function or(e){var t=C;if(t===null)return k.f|=_e,e;if((t.f&Mt)===0){if((t.f&wi)===0)throw!t.parent&&e instanceof Error&&Ii(e),e;t.b.error(e)}else Rt(e,t)}function Rt(e,t){for(;t!==null;){if((t.f&wi)!==0)try{t.b.error(e);return}catch(i){e=i}t=t.parent}throw e instanceof Error&&Ii(e),e}function Ii(e){const t=ar.get(e);t&&($e(e,"message",{value:t.message}),$e(e,"stack",{value:t.stack}))}let Fe=[],xt=[];function ki(){var e=Fe;Fe=[],pi(e)}function lr(){var e=xt;xt=[],pi(e)}function Gt(e){Fe.length===0&&queueMicrotask(ki),Fe.push(e)}function ur(){Fe.length>0&&ki(),xt.length>0&&lr()}function cr(){for(var e=C.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&qn(),e}function Wt(e){var t=N|V,i=k!==null&&(k.f&N)!==0?k:null;return C===null||i!==null&&(i.f&U)!==0?t|=U:C.f|=Ye,{ctx:B,deps:null,effects:null,equals:yi,f:t,fn:e,reactions:null,rv:0,v:L,wv:0,parent:i??C,ac:null}}function dr(e,t){let i=C;i===null&&Vn();var n=i.b,r=void 0,s=qe(L),a=null,u=!k;return Pr(()=>{try{var o=e();a&&Promise.resolve(o).catch(()=>{})}catch(c){o=Promise.reject(c)}var l=()=>o;r=a?.then(l,l)??Promise.resolve(o),a=r;var f=j,g=n.pending;u&&(n.update_pending_count(1),g||f.increment());const _=(c,d=void 0)=>{a=null,g||f.activate(),d?d!==Ot&&(s.f|=_e,Ue(s,d)):((s.f&_e)!==0&&(s.f^=_e),Ue(s,c)),u&&(n.update_pending_count(-1),g||f.decrement()),zi()};if(r.then(_,c=>_(null,c||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(o=>{function l(f){function g(){f===r?o(s):l(r)}f.then(g,g)}l(r)})}function lt(e){const t=Wt(e);return Yi(t),t}function fr(e){const t=Wt(e);return t.equals=Si,t}function Pi(e){var t=e.effects;if(t!==null){e.effects=null;for(var i=0;i<t.length;i+=1)$(t[i])}}function hr(e){for(var t=e.parent;t!==null;){if((t.f&N)===0)return t;t=t.parent}return null}function Nt(e){var t,i=C;ue(hr(e));try{Pi(e),t=Zi(e)}finally{ue(i)}return t}function Ci(e){var t=Nt(e);if(e.equals(t)||(e.v=t,e.wv=Ki()),!Oe){var i=(oe||(e.f&U)!==0)&&e.deps!==null?de:M;G(e,i)}}function gr(e,t,i){const n=Wt;if(t.length===0){i(e.map(n));return}var r=j,s=C,a=vr(),u=cr();Promise.all(t.map(o=>dr(o))).then(o=>{r?.activate(),a();try{i([...e.map(n),...o])}catch(l){(s.f&De)===0&&Rt(l,s)}r?.deactivate(),zi()}).catch(o=>{u.error(o)})}function vr(){var e=C,t=k,i=B,n=j;return function(){ue(e),ee(t),tt(i),n?.activate()}}function zi(){ue(null),ee(null),tt(null)}const mt=new Set;let j=null,Je=null,ri=new Set,it=[];function Ti(){const e=it.shift();it.length>0&&queueMicrotask(Ti),e()}let pe=[],ut=null,It=!1,Ze=!1;class Ae{current=new Map;#l=new Map;#r=new Set;#e=0;#u=null;#c=!1;#i=[];#s=[];#n=[];#t=[];#a=[];#d=[];#f=[];skipped_effects=new Set;process(t){pe=[],Je=null;for(const r of t)this.#g(r);if(this.#i.length===0&&this.#e===0){this.#h();var i=this.#n,n=this.#t;this.#n=[],this.#t=[],this.#a=[],Je=j,j=null,si(i),si(n),j===null?j=this:mt.delete(this),this.#u?.resolve()}else this.#o(this.#n),this.#o(this.#t),this.#o(this.#a);for(const r of this.#i)ze(r);for(const r of this.#s)ze(r);this.#i=[],this.#s=[]}#g(t){t.f^=M;for(var i=t.first;i!==null;){var n=i.f,r=(n&(se|we))!==0,s=r&&(n&M)!==0,a=s||(n&Y)!==0||this.skipped_effects.has(i);if(!a&&i.fn!==null){if(r)i.f^=M;else if((n&Ht)!==0)this.#t.push(i);else if((n&M)===0)if((n&Dt)!==0){var u=i.b?.pending?this.#s:this.#i;u.push(i)}else gt(i)&&((i.f&Me)!==0&&this.#a.push(i),ze(i));var o=i.first;if(o!==null){i=o;continue}}var l=i.parent;for(i=i.next;i===null&&l!==null;)i=l.next,l=l.parent}}#o(t){for(const i of t)((i.f&V)!==0?this.#d:this.#f).push(i),G(i,M);t.length=0}capture(t,i){this.#l.has(t)||this.#l.set(t,i),this.current.set(t,t.v)}activate(){j=this}deactivate(){j=null,Je=null;for(const t of ri)if(ri.delete(t),t(),j!==null)break}neuter(){this.#c=!0}flush(){pe.length>0?Ai():this.#h(),j===this&&(this.#e===0&&mt.delete(this),this.deactivate())}#h(){if(!this.#c)for(const t of this.#r)t();this.#r.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#d)G(t,V),je(t);for(const t of this.#f)G(t,de),je(t);this.#n=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#r.add(t)}settled(){return(this.#u??=Gn()).promise}static ensure(){if(j===null){const t=j=new Ae;mt.add(j),Ze||Ae.enqueue(()=>{j===t&&t.flush()})}return j}static enqueue(t){it.length===0&&queueMicrotask(Ti),it.unshift(t)}}function _r(e){var t=Ze;Ze=!0;try{for(var i;;){if(ur(),pe.length===0&&(j?.flush(),pe.length===0))return ut=null,i;Ai()}}finally{Ze=t}}function Ai(){var e=Ce;It=!0;try{var t=0;for(li(!0);pe.length>0;){var i=Ae.ensure();if(t++>1e3){var n,r;mr()}i.process(pe),le.clear()}}finally{It=!1,li(e),ut=null}}function mr(){try{Kn()}catch(e){Rt(e,ut)}}let he=null;function si(e){var t=e.length;if(t!==0){for(var i=0;i<t;){var n=e[i++];if((n.f&(De|Y))===0&&gt(n)&&(he=[],ze(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?Ui(n):n.fn=null),he?.length>0)){le.clear();for(const r of he)ze(r);he=[]}}he=null}}function je(e){for(var t=ut=e;t.parent!==null;){t=t.parent;var i=t.f;if(It&&t===C&&(i&Me)!==0)return;if((i&(we|se))!==0){if((i&M)===0)return;t.f^=M}}pe.push(t)}const le=new Map;function qe(e,t){var i={f:0,v:e,reactions:null,equals:yi,rv:0,wv:0};return i}function z(e,t){const i=qe(e);return Yi(i),i}function ji(e,t=!1,i=!0){const n=qe(e);return t||(n.equals=Si),n}function m(e,t,i=!1){k!==null&&(!Q||(k.f&ni)!==0)&&xi()&&(k.f&(N|Me|Dt|ni))!==0&&!re?.includes(e)&&Qn();let n=i?q(t):t;return Ue(e,n)}function Ue(e,t){if(!e.equals(t)){var i=e.v;Oe?le.set(e,t):le.set(e,i),e.v=t;var n=Ae.ensure();n.capture(e,i),(e.f&N)!==0&&((e.f&V)!==0&&Nt(e),G(e,(e.f&U)===0?M:de)),e.wv=Ki(),Hi(e,V),C!==null&&(C.f&M)!==0&&(C.f&(se|we))===0&&(F===null?Tr([e]):F.push(e))}return t}function pr(e,t=1){var i=h(e),n=t===1?i++:i--;return m(e,i),n}function pt(e){m(e,e.v+1)}function Hi(e,t){var i=e.reactions;if(i!==null)for(var n=i.length,r=0;r<n;r++){var s=i[r],a=s.f,u=(a&V)===0;u&&G(s,t),(a&N)!==0?Hi(s,de):u&&((a&Me)!==0&&he!==null&&he.push(s),je(s))}}function q(e){if(typeof e!="object"||e===null||Ke in e)return e;const t=mi(e);if(t!==On&&t!==Rn)return e;var i=new Map,n=At(e),r=z(0),s=me,a=u=>{if(me===s)return u();var o=k,l=me;ee(null),ci(s);var f=u();return ee(o),ci(l),f};return n&&i.set("length",z(e.length)),new Proxy(e,{defineProperty(u,o,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Jn();var f=i.get(o);return f===void 0?f=a(()=>{var g=z(l.value);return i.set(o,g),g}):m(f,l.value,!0),!0},deleteProperty(u,o){var l=i.get(o);if(l===void 0){if(o in u){const f=a(()=>z(L));i.set(o,f),pt(r)}}else m(l,L),pt(r);return!0},get(u,o,l){if(o===Ke)return e;var f=i.get(o),g=o in u;if(f===void 0&&(!g||Ne(u,o)?.writable)&&(f=a(()=>{var c=q(g?u[o]:L),d=z(c);return d}),i.set(o,f)),f!==void 0){var _=h(f);return _===L?void 0:_}return Reflect.get(u,o,l)},getOwnPropertyDescriptor(u,o){var l=Reflect.getOwnPropertyDescriptor(u,o);if(l&&"value"in l){var f=i.get(o);f&&(l.value=h(f))}else if(l===void 0){var g=i.get(o),_=g?.v;if(g!==void 0&&_!==L)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return l},has(u,o){if(o===Ke)return!0;var l=i.get(o),f=l!==void 0&&l.v!==L||Reflect.has(u,o);if(l!==void 0||C!==null&&(!f||Ne(u,o)?.writable)){l===void 0&&(l=a(()=>{var _=f?q(u[o]):L,c=z(_);return c}),i.set(o,l));var g=h(l);if(g===L)return!1}return f},set(u,o,l,f){var g=i.get(o),_=o in u;if(n&&o==="length")for(var c=l;c<g.v;c+=1){var d=i.get(c+"");d!==void 0?m(d,L):c in u&&(d=a(()=>z(L)),i.set(c+"",d))}if(g===void 0)(!_||Ne(u,o)?.writable)&&(g=a(()=>z(void 0)),m(g,q(l)),i.set(o,g));else{_=g.v!==L;var v=a(()=>q(l));m(g,v)}var p=Reflect.getOwnPropertyDescriptor(u,o);if(p?.set&&p.set.call(f,l),!_){if(n&&typeof o=="string"){var x=i.get("length"),E=Number(o);Number.isInteger(E)&&E>=x.v&&m(x,E+1)}pt(r)}return!0},ownKeys(u){h(r);var o=Reflect.ownKeys(u).filter(g=>{var _=i.get(g);return _===void 0||_.v!==L});for(var[l,f]of i)f.v!==L&&!(l in u)&&o.push(l);return o},setPrototypeOf(){Zn()}})}var ai,Li,Mi,Di;function wr(){if(ai===void 0){ai=window,Li=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,i=Text.prototype;Mi=Ne(t,"firstChild").get,Di=Ne(t,"nextSibling").get,ii(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ii(i)&&(i.__t=void 0)}}function ct(e=""){return document.createTextNode(e)}function nt(e){return Mi.call(e)}function dt(e){return Di.call(e)}function P(e,t){return nt(e)}function Oi(e,t){{var i=nt(e);return i instanceof Comment&&i.data===""?dt(i):i}}function b(e,t=1,i=!1){let n=e;for(;t--;)n=dt(n);return n}function br(e){e.textContent=""}function Ri(){return!1}let oi=!1;function yr(){oi||(oi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ft(e){var t=k,i=C;ee(null),ue(null);try{return e()}finally{ee(t),ue(i)}}function Er(e,t,i,n=i){e.addEventListener(t,()=>ft(i));const r=e.__on_r;r?e.__on_r=()=>{r(),n(!0)}:e.__on_r=()=>n(!0),yr()}function Sr(e){C===null&&k===null&&Xn(),k!==null&&(k.f&U)!==0&&C===null&&Yn(),Oe&&Bn()}function xr(e,t){var i=t.last;i===null?t.last=t.first=e:(i.next=e,e.prev=i,t.last=e)}function ae(e,t,i,n=!0){var r=C;r!==null&&(r.f&Y)!==0&&(e|=Y);var s={ctx:B,deps:null,nodes_start:null,nodes_end:null,f:e|V,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(i)try{ze(s),s.f|=Mt}catch(o){throw $(s),o}else t!==null&&je(s);if(n){var a=s;if(i&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&Ye)===0&&(a=a.first),a!==null&&(a.parent=r,r!==null&&xr(a,r),k!==null&&(k.f&N)!==0&&(e&we)===0)){var u=k;(u.effects??=[]).push(a)}}return s}function Gi(e){const t=ae(Lt,null,!1);return G(t,M),t.teardown=e,t}function He(e){Sr();var t=C.f,i=!k&&(t&se)!==0&&(t&Mt)===0;if(i){var n=B;(n.e??=[]).push(e)}else return Wi(e)}function Wi(e){return ae(Ht|Nn,e,!1)}function Ir(e){Ae.ensure();const t=ae(we|Ye,e,!0);return(i={})=>new Promise(n=>{i.outro?qt(t,()=>{$(t),n(void 0)}):($(t),n(void 0))})}function kr(e){return ae(Ht,e,!1)}function Pr(e){return ae(Dt|Ye,e,!0)}function Ni(e,t=0){return ae(Lt|t,e,!0)}function ht(e,t=[],i=[]){gr(t,i,n=>{ae(Lt,()=>e(...n.map(h)),!0)})}function Ft(e,t=0){var i=ae(Me|t,e,!0);return i}function Le(e,t=!0){return ae(se|Ye,e,!0,t)}function Fi(e){var t=e.teardown;if(t!==null){const i=Oe,n=k;ui(!0),ee(null);try{t.call(null)}finally{ui(i),ee(n)}}}function qi(e,t=!1){var i=e.first;for(e.first=e.last=null;i!==null;){const r=i.ac;r!==null&&ft(()=>{r.abort(Ot)});var n=i.next;(i.f&we)!==0?i.parent=null:$(i,t),i=n}}function Cr(e){for(var t=e.first;t!==null;){var i=t.next;(t.f&se)===0&&$(t),t=i}}function $(e,t=!0){var i=!1;(t||(e.f&Wn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(zr(e.nodes_start,e.nodes_end),i=!0),qi(e,t&&!i),rt(e,0),G(e,De);var n=e.transitions;if(n!==null)for(const s of n)s.stop();Fi(e);var r=e.parent;r!==null&&r.first!==null&&Ui(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function zr(e,t){for(;e!==null;){var i=e===t?null:dt(e);e.remove(),e=i}}function Ui(e){var t=e.parent,i=e.prev,n=e.next;i!==null&&(i.next=n),n!==null&&(n.prev=i),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=i))}function qt(e,t){var i=[];Ut(e,i,!0),Vi(i,()=>{$(e),t&&t()})}function Vi(e,t){var i=e.length;if(i>0){var n=()=>--i||t();for(var r of e)r.out(n)}else t()}function Ut(e,t,i){if((e.f&Y)===0){if(e.f^=Y,e.transitions!==null)for(const a of e.transitions)(a.is_global||i)&&t.push(a);for(var n=e.first;n!==null;){var r=n.next,s=(n.f&st)!==0||(n.f&se)!==0;Ut(n,t,s?i:!1),n=r}}}function Vt(e){Bi(e,!0)}function Bi(e,t){if((e.f&Y)!==0){e.f^=Y,(e.f&M)===0&&(G(e,V),je(e));for(var i=e.first;i!==null;){var n=i.next,r=(i.f&st)!==0||(i.f&se)!==0;Bi(i,r?t:!1),i=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Ce=!1;function li(e){Ce=e}let Oe=!1;function ui(e){Oe=e}let k=null,Q=!1;function ee(e){k=e}let C=null;function ue(e){C=e}let re=null;function Yi(e){k!==null&&(re===null?re=[e]:re.push(e))}let O=null,W=0,F=null;function Tr(e){F=e}let Xi=1,Ve=0,me=Ve;function ci(e){me=e}let oe=!1;function Ki(){return++Xi}function gt(e){var t=e.f;if((t&V)!==0)return!0;if((t&de)!==0){var i=e.deps,n=(t&U)!==0;if(i!==null){var r,s,a=(t&et)!==0,u=n&&C!==null&&!oe,o=i.length;if((a||u)&&(C===null||(C.f&De)===0)){var l=e,f=l.parent;for(r=0;r<o;r++)s=i[r],(a||!s?.reactions?.includes(l))&&(s.reactions??=[]).push(l);a&&(l.f^=et),u&&f!==null&&(f.f&U)===0&&(l.f^=U)}for(r=0;r<o;r++)if(s=i[r],gt(s)&&Ci(s),s.wv>e.wv)return!0}(!n||C!==null&&!oe)&&G(e,M)}return!1}function Ji(e,t,i=!0){var n=e.reactions;if(n!==null&&!re?.includes(e))for(var r=0;r<n.length;r++){var s=n[r];(s.f&N)!==0?Ji(s,t,!1):t===s&&(i?G(s,V):(s.f&M)!==0&&G(s,de),je(s))}}function Zi(e){var t=O,i=W,n=F,r=k,s=oe,a=re,u=B,o=Q,l=me,f=e.f;O=null,W=0,F=null,oe=(f&U)!==0&&(Q||!Ce||k===null),k=(f&(se|we))===0?e:null,re=null,tt(e.ctx),Q=!1,me=++Ve,e.ac!==null&&(ft(()=>{e.ac.abort(Ot)}),e.ac=null);try{e.f|=St;var g=e.fn,_=g(),c=e.deps;if(O!==null){var d;if(rt(e,W),c!==null&&W>0)for(c.length=W+O.length,d=0;d<O.length;d++)c[W+d]=O[d];else e.deps=c=O;if(!oe||(f&N)!==0&&e.reactions!==null)for(d=W;d<c.length;d++)(c[d].reactions??=[]).push(e)}else c!==null&&W<c.length&&(rt(e,W),c.length=W);if(xi()&&F!==null&&!Q&&c!==null&&(e.f&(N|de|V))===0)for(d=0;d<F.length;d++)Ji(F[d],e);return r!==null&&r!==e&&(Ve++,F!==null&&(n===null?n=F:n.push(...F))),(e.f&_e)!==0&&(e.f^=_e),_}catch(v){return or(v)}finally{e.f^=St,O=t,W=i,F=n,k=r,oe=s,re=a,tt(u),Q=o,me=l}}function Ar(e,t){let i=t.reactions;if(i!==null){var n=Mn.call(i,e);if(n!==-1){var r=i.length-1;r===0?i=t.reactions=null:(i[n]=i[r],i.pop())}}i===null&&(t.f&N)!==0&&(O===null||!O.includes(t))&&(G(t,de),(t.f&(U|et))===0&&(t.f^=et),Pi(t),rt(t,0))}function rt(e,t){var i=e.deps;if(i!==null)for(var n=t;n<i.length;n++)Ar(e,i[n])}function ze(e){var t=e.f;if((t&De)===0){G(e,M);var i=C,n=Ce;C=e,Ce=!0;try{(t&Me)!==0?Cr(e):qi(e),Fi(e);var r=Zi(e);e.teardown=typeof r=="function"?r:null,e.wv=Xi;var s;_i&&sr&&(e.f&V)!==0&&e.deps}finally{Ce=n,C=i}}}async function jr(){await Promise.resolve(),_r()}function h(e){var t=e.f,i=(t&N)!==0;if(k!==null&&!Q){var n=C!==null&&(C.f&De)!==0;if(!n&&!re?.includes(e)){var r=k.deps;if((k.f&St)!==0)e.rv<Ve&&(e.rv=Ve,O===null&&r!==null&&r[W]===e?W++:O===null?O=[e]:(!oe||!O.includes(e))&&O.push(e));else{(k.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[k]:s.includes(k)||s.push(k)}}}else if(i&&e.deps===null&&e.effects===null){var a=e,u=a.parent;u!==null&&(u.f&U)===0&&(a.f^=U)}if(Oe){if(le.has(e))return le.get(e);if(i){a=e;var o=a.v;return((a.f&M)===0&&a.reactions!==null||Qi(a))&&(o=Nt(a)),le.set(a,o),o}}else i&&(a=e,gt(a)&&Ci(a));if((e.f&_e)!==0)throw e.v;return e.v}function Qi(e){if(e.v===L)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(le.has(t)||(t.f&N)!==0&&Qi(t))return!0;return!1}function vt(e){var t=Q;try{return Q=!0,e()}finally{Q=t}}const Hr=-7169;function G(e,t){e.f=e.f&Hr|t}const Lr=["touchstart","touchmove"];function Mr(e){return Lr.includes(e)}const $i=new Set,kt=new Set;function Dr(e,t,i,n={}){function r(s){if(n.capture||We.call(t,s),!s.cancelBubble)return ft(()=>i?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Gt(()=>{t.addEventListener(e,r,n)}):t.addEventListener(e,r,n),r}function Pe(e,t,i,n,r){var s={capture:n,passive:r},a=Dr(e,t,i,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Gi(()=>{t.removeEventListener(e,a,s)})}function Re(e){for(var t=0;t<e.length;t++)$i.add(e[t]);for(var i of kt)i(e)}let di=null;function We(e){var t=this,i=t.ownerDocument,n=e.type,r=e.composedPath?.()||[],s=r[0]||e.target;di=e;var a=0,u=di===e&&e.__root;if(u){var o=r.indexOf(u);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var l=r.indexOf(t);if(l===-1)return;o<=l&&(a=o)}if(s=r[a]||e.target,s!==t){$e(e,"currentTarget",{configurable:!0,get(){return s||i}});var f=k,g=C;ee(null),ue(null);try{for(var _,c=[];s!==null;){var d=s.assignedSlot||s.parentNode||s.host||null;try{var v=s["__"+n];if(v!=null&&(!s.disabled||e.target===s))if(At(v)){var[p,...x]=v;p.apply(s,[e,...x])}else v.call(s,e)}catch(E){_?c.push(E):_=E}if(e.cancelBubble||d===t||d===null)break;s=d}if(_){for(let E of c)queueMicrotask(()=>{throw E});throw _}}finally{e.__root=t,delete e.currentTarget,ee(f),ue(g)}}}function Or(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function fi(e,t){var i=C;i.nodes_start===null&&(i.nodes_start=e,i.nodes_end=t)}function fe(e,t){var i=(t&tr)!==0,n=(t&ir)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=Or(s?e:"<!>"+e),i||(r=nt(r)));var a=n||Li?document.importNode(r,!0):r.cloneNode(!0);if(i){var u=nt(a),o=a.lastChild;fi(u,o)}else fi(a,a);return a}}function ce(e,t){e!==null&&e.before(t)}function J(e,t){var i=t==null?"":typeof t=="object"?t+"":t;i!==(e.__t??=e.nodeValue)&&(e.__t=i,e.nodeValue=i+"")}function Rr(e,t){return Gr(e,t)}const xe=new Map;function Gr(e,{target:t,anchor:i,props:n={},events:r,context:s,intro:a=!0}){wr();var u=new Set,o=g=>{for(var _=0;_<g.length;_++){var c=g[_];if(!u.has(c)){u.add(c);var d=Mr(c);t.addEventListener(c,We,{passive:d});var v=xe.get(c);v===void 0?(document.addEventListener(c,We,{passive:d}),xe.set(c,1)):xe.set(c,v+1)}}};o(jt($i)),kt.add(o);var l=void 0,f=Ir(()=>{var g=i??t.appendChild(ct());return Le(()=>{if(s){be({});var _=B;_.c=s}r&&(n.$$events=r),l=e(g,n)||{},s&&ye()}),()=>{for(var _ of u){t.removeEventListener(_,We);var c=xe.get(_);--c===0?(document.removeEventListener(_,We),xe.delete(_)):xe.set(_,c)}kt.delete(o),g!==i&&g.parentNode?.removeChild(g)}});return Wr.set(l,f),l}let Wr=new WeakMap;function Pt(e,t,i=!1){var n=e,r=null,s=null,a=L,u=i?st:0,o=!1;const l=(c,d=!0)=>{o=!0,_(d,c)};var f=null;function g(){f!==null&&(f.lastChild.remove(),n.before(f),f=null);var c=a?r:s,d=a?s:r;c&&Vt(c),d&&qt(d,()=>{a?s=null:r=null})}const _=(c,d)=>{if(a!==(a=c)){var v=Ri(),p=n;if(v&&(f=document.createDocumentFragment(),f.append(p=ct())),a?r??=d&&Le(()=>d(p)):s??=d&&Le(()=>d(p)),v){var x=j,E=a?r:s,S=a?s:r;E&&x.skipped_effects.delete(E),S&&x.skipped_effects.add(S),x.add_callback(g)}else g()}};Ft(()=>{o=!1,t(l),o||_(null,null)},u)}function en(e,t){return t}function Nr(e,t,i){for(var n=e.items,r=[],s=t.length,a=0;a<s;a++)Ut(t[a].e,r,!0);var u=s>0&&r.length===0&&i!==null;if(u){var o=i.parentNode;br(o),o.append(i),n.clear(),Z(e,t[0].prev,t[s-1].next)}Vi(r,()=>{for(var l=0;l<s;l++){var f=t[l];u||(n.delete(f.k),Z(e,f.prev,f.next)),$(f.e,!u)}})}function tn(e,t,i,n,r,s=null){var a=e,u={flags:t,items:new Map,first:null},o=(t&bi)!==0;if(o){var l=e;a=l.appendChild(ct())}var f=null,g=!1,_=new Map,c=fr(()=>{var x=i();return At(x)?x:x==null?[]:jt(x)}),d,v;function p(){Fr(v,d,u,_,a,r,t,n,i),s!==null&&(d.length===0?f?Vt(f):f=Le(()=>s(a)):f!==null&&qt(f,()=>{f=null}))}Ft(()=>{v??=C,d=h(c);var x=d.length;if(!(g&&x===0)){g=x===0;var E,S,A,T;if(Ri()){var I=new Set,y=j;for(S=0;S<x;S+=1){A=d[S],T=n(A,S);var D=u.items.get(T)??_.get(T);D?(t&(at|ot))!==0&&nn(D,A,S,t):(E=rn(null,u,null,null,A,T,S,r,t,i,!0),_.set(T,E)),I.add(T)}for(const[X,te]of u.items)I.has(X)||y.skipped_effects.add(te.e);y.add_callback(p)}else p();h(c)}})}function Fr(e,t,i,n,r,s,a,u,o){var l=(a&$n)!==0,f=(a&(at|ot))!==0,g=t.length,_=i.items,c=i.first,d=c,v,p=null,x,E=[],S=[],A,T,I,y;if(l)for(y=0;y<g;y+=1)A=t[y],T=u(A,y),I=_.get(T),I!==void 0&&(I.a?.measure(),(x??=new Set).add(I));for(y=0;y<g;y+=1){if(A=t[y],T=u(A,y),I=_.get(T),I===void 0){var D=n.get(T);if(D!==void 0){n.delete(T),_.set(T,D);var X=p?p.next:d;Z(i,p,D),Z(i,D,X),wt(D,X,r),p=D}else{var te=d?d.e.nodes_start:r;p=rn(te,i,p,p===null?i.first:p.next,A,T,y,s,a,o)}_.set(T,p),E=[],S=[],d=p.next;continue}if(f&&nn(I,A,y,a),(I.e.f&Y)!==0&&(Vt(I.e),l&&(I.a?.unfix(),(x??=new Set).delete(I))),I!==d){if(v!==void 0&&v.has(I)){if(E.length<S.length){var ie=S[0],R;p=ie.prev;var Ee=E[0],ne=E[E.length-1];for(R=0;R<E.length;R+=1)wt(E[R],ie,r);for(R=0;R<S.length;R+=1)v.delete(S[R]);Z(i,Ee.prev,ne.next),Z(i,p,Ee),Z(i,ne,ie),d=ie,p=ne,y-=1,E=[],S=[]}else v.delete(I),wt(I,d,r),Z(i,I.prev,I.next),Z(i,I,p===null?i.first:p.next),Z(i,p,I),p=I;continue}for(E=[],S=[];d!==null&&d.k!==T;)(d.e.f&Y)===0&&(v??=new Set).add(d),S.push(d),d=d.next;if(d===null)continue;I=d}E.push(I),p=I,d=I.next}if(d!==null||v!==void 0){for(var w=v===void 0?[]:jt(v);d!==null;)(d.e.f&Y)===0&&w.push(d),d=d.next;var H=w.length;if(H>0){var K=(a&bi)!==0&&g===0?r:null;if(l){for(y=0;y<H;y+=1)w[y].a?.measure();for(y=0;y<H;y+=1)w[y].a?.fix()}Nr(i,w,K)}}l&&Gt(()=>{if(x!==void 0)for(I of x)I.a?.apply()}),e.first=i.first&&i.first.e,e.last=p&&p.e;for(var Se of n.values())$(Se.e);n.clear()}function nn(e,t,i,n){(n&at)!==0&&Ue(e.v,t),(n&ot)!==0?Ue(e.i,i):e.i=i}function rn(e,t,i,n,r,s,a,u,o,l,f){var g=(o&at)!==0,_=(o&er)===0,c=g?_?ji(r,!1,!1):qe(r):r,d=(o&ot)===0?a:qe(a),v={i:d,v:c,k:s,a:null,e:null,prev:i,next:n};try{if(e===null){var p=document.createDocumentFragment();p.append(e=ct())}return v.e=Le(()=>u(e,c,d,l),rr),v.e.prev=i&&i.e,v.e.next=n&&n.e,i===null?f||(t.first=v):(i.next=v,i.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function wt(e,t,i){for(var n=e.next?e.next.e.nodes_start:i,r=t?t.e.nodes_start:i,s=e.e.nodes_start;s!==null&&s!==n;){var a=dt(s);r.before(s),s=a}}function Z(e,t,i){t===null?e.first=i:(t.next=i,t.e.next=i&&i.e),i!==null&&(i.prev=t,i.e.prev=t&&t.e)}function qr(e,t,...i){var n=e,r=ve,s;Ft(()=>{r!==(r=t())&&(s&&($(s),s=null),s=Le(()=>r(n,...i)))},st)}function Ur(e,t){return e==null?null:String(e)}function Te(e,t,i,n){var r=e.__style;if(r!==t){var s=Ur(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return n}const Vr=Symbol("is custom element"),Br=Symbol("is html");function ge(e,t,i,n){var r=Yr(e);r[t]!==(r[t]=i)&&(t==="loading"&&(e[Fn]=i),i==null?e.removeAttribute(t):typeof i!="string"&&Xr(e).includes(t)?e[t]=i:e.setAttribute(t,i))}function Yr(e){return e.__attributes??={[Vr]:e.nodeName.includes("-"),[Br]:e.namespaceURI===nr}}var hi=new Map;function Xr(e){var t=e.getAttribute("is")||e.nodeName,i=hi.get(t);if(i)return i;hi.set(t,i=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Dn(r);for(var a in n)n[a].set&&i.push(a);r=mi(r)}return i}function Ge(e,t,i=t){var n=new WeakSet;Er(e,"input",async r=>{var s=r?e.defaultValue:e.value;if(s=bt(e)?yt(s):s,i(s),j!==null&&n.add(j),await jr(),s!==(s=t())){var a=e.selectionStart,u=e.selectionEnd;e.value=s??"",u!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(u,e.value.length))}}),vt(t)==null&&e.value&&(i(bt(e)?yt(e.value):e.value),j!==null&&n.add(j)),Ni(()=>{var r=t();if(e===document.activeElement){var s=Je??j;if(n.has(s))return}bt(e)&&r===yt(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function bt(e){var t=e.type;return t==="number"||t==="range"}function yt(e){return e===""?null:+e}function gi(e,t){return e===t||e?.[Ke]===t}function Ct(e={},t,i,n){return kr(()=>{var r,s;return Ni(()=>{r=s,s=[],vt(()=>{e!==i(...s)&&(t(e,...s),r&&gi(i(...r),e)&&t(null,...r))})}),()=>{Gt(()=>{s&&gi(i(...s),e)&&t(null,...s)})}}),e}function sn(e,t,i){if(e==null)return t(void 0),ve;const n=vt(()=>e.subscribe(t,i));return n.unsubscribe?()=>n.unsubscribe():n}const Ie=[];function Bt(e,t=ve){let i=null;const n=new Set;function r(u){if(Ei(e,u)&&(e=u,i)){const o=!Ie.length;for(const l of n)l[1](),Ie.push(l,e);if(o){for(let l=0;l<Ie.length;l+=2)Ie[l][0](Ie[l+1]);Ie.length=0}}}function s(u){r(u(e))}function a(u,o=ve){const l=[u,o];return n.add(l),n.size===1&&(i=t(r,s)||ve),u(e),()=>{n.delete(l),n.size===0&&i&&(i(),i=null)}}return{set:r,update:s,subscribe:a}}function Kr(e){let t;return sn(e,i=>t=i)(),t}let zt=Symbol();function Be(e,t,i){const n=i[t]??={store:null,source:ji(void 0),unsubscribe:ve};if(n.store!==e&&!(zt in i))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=ve;else{var r=!0;n.unsubscribe=sn(e,s=>{r?n.source.v=s:m(n.source,s)}),r=!1}return e&&zt in i?Kr(e):h(n.source)}function vi(e,t){return e.set(t),t}function _t(){const e={};function t(){Gi(()=>{for(var i in e)e[i].unsubscribe();$e(e,zt,{enumerable:!1,value:!0})})}return[e,t]}function an(e){B===null&&Un(),He(()=>{const t=vt(e);if(typeof t=="function")return t})}const Jr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Jr);function Zr(e,t){t.onclick&&t.onclick(t.index)}function Qr(e,t){m(t,!0)}var $r=fe('<div class="container svelte-kyctpi"><input type="image" class="svelte-kyctpi"/></div>');function es(e,t){be(t,!0);let i=z(!1),n,r=z(""),s=z(q(t.grid.cellWidth)),a=lt(()=>h(s)/t.width),u,o=!1,l=(d,v,p,x)=>"";an(()=>{u.style.zIndex=0,t.imageLoader.onAllLoaded(()=>{o=!0,u.src=t.imageLoader.imageUrls[t.index],m(r,l(n,t.isActive,h(i),o),!0)}),l=(d,v,p,x)=>t.styler?t.styler(d,h(a),t.width,t.height,v,p,x,h(s),u):""}),He(()=>{n=t.grid.getPosition(t.grid.getGridCoordinate(t.index)),m(s,t.grid.cellWidth,!0),m(r,l(n,t.isActive,h(i),o),!0)});function f(){m(i,!1)}function g(){}var _=$r(),c=P(_);ge(c,"src",null),c.__click=[Zr,t],c.__mouseover=[Qr,i],Ct(c,d=>u=d,()=>u),ht(()=>{Te(c,h(r)),ge(c,"width",h(s)),ge(c,"height",h(s)*t.height/t.width),ge(c,"alt",t.alt)}),Pe("mouseleave",c,f),Pe("focus",c,g),ce(e,_),ye()}Re(["click","mouseover"]);const Qe=Bt(null);function ts(e,t){be(t,!0);const[i,n]=_t(),r=()=>Be(Qe,"$playingStone",i);let s=z(!1);function a(){m(s,t.player.play(t.stone,u),!0),h(s)&&vi(Qe,{stone:t.stone,index:t.index})}function u(o){o.stone.number===t.stone.number&&(m(s,!1),r().index===t.index&&vi(Qe,null))}{let o=lt(()=>`Stone number ${t.stone.number}`);es(e,{get index(){return t.index},get grid(){return t.grid},get width(){return t.stone.width},get height(){return t.stone.height},get alt(){return h(o)},onclick:a,get styler(){return t.styler},get isActive(){return h(s)},get imageLoader(){return t.imageLoader}})}ye(),n()}var is=fe("<main></main>");function ns(e,t){const i="#909087",n="#303027";function r(a,u,o,l,f,g,_,c,d){let v="";if(a){const p=a.vCentre-u*l/2;v+=`left: ${a.left}px; top: ${p}px;`,v+=`width: ${c}px;`,d.height=c*l/o,f?(v+=`border-color: ${i};`,v+="opacity: 1;"):g&&(v+=`border-color: ${n};`)}return g&&(v+="filter: contrast(1.2);",v+="filter: brightness(1.2);"),_?v+="opacity: 1;":v+="opacity: 0;",v}var s=is();tn(s,21,()=>t.stones,en,(a,u,o)=>{ts(a,{get stone(){return h(u)},index:o,get grid(){return t.grid},get player(){return t.player},styler:r,get imageLoader(){return t.imageLoader}})}),ce(e,s)}const ke=[{image:"stone-000.jpg",audio:"Image01.ogg",number:"1",width:840,height:798,gcn:"11191"},{image:"stone-001.jpg",audio:"Image02.ogg",number:"2",width:1043,height:1082,gcn:"11615"},{image:"stone-002.jpg",audio:"Image03.ogg",number:"3",width:950,height:693,gcn:"12138"},{image:"stone-003.jpg",audio:"Image04.ogg",number:"4",width:833,height:867,gcn:"12450"},{image:"stone-004.jpg",audio:"Image05.ogg",number:"5",width:861,height:735,gcn:"12481"},{image:"stone-005.jpg",audio:"Image06.ogg",number:"6",width:863,height:819,gcn:"13056"},{image:"stone-006.jpg",audio:"Image07.ogg",number:"7",width:903,height:922,gcn:"13427"},{image:"stone-007.jpg",audio:"Image08.ogg",number:"8",width:776,height:685,gcn:"13973"},{image:"stone-008.jpg",audio:"Image09.ogg",number:"9",width:903,height:1105,gcn:"14888"},{image:"stone-009.jpg",audio:"Image10.ogg",number:"10",width:880,height:893,gcn:"14889"},{image:"stone-011.jpg",audio:"Image11.ogg",number:"11",width:473,height:553,gcn:"15244"},{image:"stone-012.jpg",audio:"Image12.ogg",number:"12",width:472,height:546,gcn:"15266"},{image:"stone-013.jpg",audio:"Image13.ogg",number:"13",width:476,height:526,gcn:"15286"},{image:"stone-014.jpg",audio:"Image14.ogg",number:"14",width:467,height:533,gcn:"15290"},{image:"stone-015.jpg",audio:"Image15.ogg",number:"15",width:468,height:527,gcn:"15291"},{image:"stone-016.jpg",audio:"Image16.ogg",number:"16",width:883,height:820,gcn:"15292"},{image:"stone-017.jpg",audio:"Image17.ogg",number:"17",width:465,height:513,gcn:"15456"},{image:"stone-018.jpg",audio:"Image18.ogg",number:"18",width:469,height:546,gcn:"15457"},{image:"stone-019.jpg",audio:"Image19.ogg",number:"19",width:807,height:904,gcn:"15828"},{image:"stone-020.jpg",audio:"Image20.ogg",number:"20",width:848,height:848,gcn:"15899"},{image:"stone-021.jpg",audio:"Image21.ogg",number:"21",width:900,height:932,gcn:"15902"},{image:"stone-022.jpg",audio:"Image22.ogg",number:"22",width:469,height:519,gcn:"16000"},{image:"stone-023.jpg",audio:"Image23.ogg",number:"23",width:469,height:524,gcn:"16037"},{image:"stone-024.jpg",audio:"Image24.ogg",number:"24",width:476,height:508,gcn:"16038"},{image:"stone-025.jpg",audio:"Image25.ogg",number:"25",width:476,height:517,gcn:"16039"},{image:"stone-026.jpg",audio:"Image26.ogg",number:"26",width:852,height:810,gcn:"16164"},{image:"stone-027.jpg",audio:"Image27.ogg",number:"27",width:852,height:842,gcn:"16166"},{image:"stone-028.jpg",audio:"Image28.ogg",number:"28",width:686,height:759,gcn:"16300"},{image:"stone-029.jpg",audio:"Image29.ogg",number:"29",width:476,height:528,gcn:"16301"},{image:"stone-030.jpg",audio:"Image30.ogg",number:"30",width:815,height:789,gcn:"16547"},{image:"stone-031.jpg",audio:"Image31.ogg",number:"31",width:859,height:945,gcn:"16720"},{image:"stone-032.jpg",audio:"Image32.ogg",number:"32",width:970,height:806,gcn:"16736"},{image:"stone-033.jpg",audio:"Image33.ogg",number:"33",width:464,height:529,gcn:"18419"},{image:"stone-034.jpg",audio:"Image34.ogg",number:"34",width:412,height:394,gcn:"18421"},{image:"stone-035.jpg",audio:"Image35.ogg",number:"35",width:469,height:537,gcn:"34219"},{image:"stone-036.jpg",audio:"Image36.ogg",number:"36",width:923,height:852,gcn:"34220"},{image:"stone-037.jpg",audio:"Image37.ogg",number:"37",width:920,height:890,gcn:"34201"},{image:"stone-038.jpg",audio:"Image38a.ogg",number:"38a",width:473,height:532,gcn:"34202"},{image:"stone-039.jpg",audio:"Image38b.ogg",number:"38b",width:855,height:861,gcn:"34202"},{image:"stone-040.jpg",audio:"Image39.ogg",number:"39",width:476,height:542,gcn:"34204"},{image:"stone-041.jpg",audio:"Image40.ogg",number:"40",width:497,height:473,gcn:"34206"},{image:"stone-042.jpg",audio:"Image41.ogg",number:"41",width:473,height:537,gcn:"34209"},{image:"stone-043.jpg",audio:"Image42.ogg",number:"42",width:462,height:540,gcn:"34212"},{image:"stone-044.jpg",audio:"Image43.ogg",number:"43",width:465,height:536,gcn:"34214"},{image:"stone-045.jpg",audio:"Image44.ogg",number:"44",width:471,height:506,gcn:"34465"},{image:"stone-046.jpg",audio:"Image45.ogg",number:"45",width:470,height:527,gcn:"34539"},{image:"stone-047.jpg",audio:"Image46.ogg",number:"46",width:1080,height:1089,gcn:"34603"},{image:"stone-048.jpg",audio:"Image47.ogg",number:"47",width:467,height:541,gcn:"34793"},{image:"stone-049.jpg",audio:"Image48.ogg",number:"48",width:877,height:729,gcn:"35875"},{image:"stone-050.jpg",audio:"Image49.ogg",number:"49",width:466,height:526,gcn:"41457"},{image:"stone-051.jpg",audio:"Image50.ogg",number:"50",width:468,height:498,gcn:"41458"},{image:"stone-052.jpg",audio:"Image51.ogg",number:"51",width:844,height:745,gcn:"42366"},{image:"stone-053.jpg",audio:"Image52.ogg",number:"52",width:465,height:548,gcn:"60715"}];class rs{constructor(t,i,n,r,s,a,u){this.width=t,this.height=i,this.columns=n,this.items=r,this.minHEdgePadding=s,this.minVEdgePadding=a,this.gridPadding=u,this.rows=this.getGridCoordinate(r-1).row+1,this.calculateCellSize()}calculateCellSize(){const t=this.columns-1;this.gapSize=Math.floor(this.height*this.gridPadding);const i=this.width*(2*this.minHEdgePadding)+t*this.gapSize,n=Math.floor((this.width-i)/this.columns),r=this.rows-1,s=this.width*2*this.minVEdgePadding+r*this.gapSize,a=Math.floor((this.height-s)/this.rows);this.cellSize=Math.min(n,a),this.columns*this.cellSize+t*this.gapSize,this.hEdgePadding=Math.floor((this.width-this.columns*this.cellSize-t*this.gapSize)/2),this.vEdgePadding=Math.floor((this.height-this.rows*this.cellSize-r*this.gapSize)/2)}getGridCoordinate(t){const i=Math.floor(t/this.columns),n=t%this.columns;return{row:i,column:n}}getPosition(t){const{row:i,column:n}=t,r=this.hEdgePadding+n*(this.cellSize+this.gapSize),s=this.vEdgePadding+this.cellSize/2+i*(this.cellSize+this.gapSize);return{left:r,vCentre:s}}}function ss(e,t,i,n,r){const s=t+(t-1)*n,a=i+(i-1)*r;return e*s/a}class Tt{constructor(t,i,n,r,s,a,u,o){this.containerWidth=t,this.containerHeight=i,this.columns=n,this.items=r,this.minHorizontalEdgePadding=s,this.minVerticalEdgePadding=a,this.horizontalGridSpacingFactor=u,this.verticalGridSpacingFactor=o,this.rows=this.getGridCoordinate(r-1).row+1,this.calculateGridDimensions()}calculateGridDimensions(){const t=ss(1,this.columns,this.rows,this.horizontalGridSpacingFactor,this.verticalGridSpacingFactor),i=this.containerWidth*(1-2*this.minHorizontalEdgePadding),n=this.containerHeight*(1-2*this.minVerticalEdgePadding);i/n>t?(this.verticalEdgePadding=this.containerHeight*this.minVerticalEdgePadding,this.contentHeight=this.containerHeight-2*this.verticalEdgePadding,this.contentWidth=this.contentHeight*t,this.horizontalEdgePadding=(this.containerWidth-this.contentWidth)/2):(this.horizontalEdgePadding=this.containerWidth*this.minHorizontalEdgePadding,this.contentWidth=this.containerWidth-2*this.horizontalEdgePadding,this.contentHeight=this.contentWidth/t,this.verticalEdgePadding=(this.containerHeight-this.contentHeight)/2),this.cellWidth=this.contentWidth/(this.columns+this.horizontalGridSpacingFactor*(this.columns-1)),this.cellHeight=this.contentHeight/(this.rows+this.verticalGridSpacingFactor*(this.rows-1)),this.horizontalGridSpacing=this.cellWidth*this.horizontalGridSpacingFactor,this.verticalGridSpacing=this.cellHeight*this.verticalGridSpacingFactor}getGridCoordinate(t){const i=Math.floor(t/this.columns),n=t%this.columns;return{row:i,column:n}}getPosition(t){const{row:i,column:n}=t,r=this.horizontalEdgePadding+n*(this.cellWidth+this.horizontalGridSpacing),s=this.verticalEdgePadding+this.cellHeight/2+i*(this.cellHeight+this.verticalGridSpacing);return{left:r,vCentre:s}}}class as{constructor(t,i,n){const r=`audio/${i.audio}`;this.stoneData=i,this.endedCallback=n,this.ended=!1,this.playing=!1,this.source=t.createBufferSource(),this.source.connect(t.destination),this.request=new XMLHttpRequest,this.request.open("GET",r),this.request.responseType="arraybuffer",this.request.onload=()=>{let s=this.request.response;t.decodeAudioData(s,a=>this.source.buffer=a),this.playing||(this.playing=!0,this.source.start())},this.source.onended=s=>{this.ended=!0,this.endedCallback({e:s,stone:this.stoneData})}}start(){this.request.send()}stop(){this.ended||this.source.stop()}}class os{constructor(){this.initialised=!1}initialise(){this.audioCtx=new AudioContext}stop(){this.source&&this.source.stop()}play(t,i){return this.stoneData&&this.stoneData.number===t.number&&!this.source.ended?(this.stop(),!1):(this.initialised||(this.initialise(),this.initialised=!0),this.stop(),this.endedCallback=i,this.stoneData=t,this.source=new as(this.audioCtx,t,i),this.source.start(),!0)}}class ls{constructor(t){this.imageUrls=Array(t.length);let i=0;for(const n of t){const r=i,s=new XMLHttpRequest;s.open("GET",`images/${n.image}`,!0),s.responseType="arraybuffer",s.onload=a=>{const u=new Uint8Array(s.response),o=new Blob([u],{type:"image/jpeg"}),f=(window.URL||window.webkitURL).createObjectURL(o);this.onloaded(r,f)},s.send(),i++}this.loadedCount=0,this.timerStart=Date.now().valueOf(),this.callbacks=[]}onloaded(t,i){this.imageUrls[t]=i,this.loadedCount++,this.loadedCount===this.imageUrls.length&&(console.log(`All loaded in ${Date.now().valueOf()-this.timerStart}ms`),this.callbacks.forEach(n=>n()))}onAllLoaded(t){this.callbacks.push(t)}}class us{constructor(t,i,n=.97,r){this.containerWidth=t,this.containerHeight=i,this.maxImageSizeRatio=n,this.maxImageWidth=r}setElementDimensions(t,i){this.elementDimensions={width:t,height:i},this.setScale(),this.height=this.scale*this.elementDimensions.height,this.width=this.scale*this.elementDimensions.width}setScale(){const t=this.getMaxImageToContainerRatio();t>this.maxImageSizeRatio?this.scale=this.maxImageSizeRatio/t:this.scale=this.maxImageSizeRatio/t,this.scale*this.elementDimensions.width>this.maxImageWidth&&(this.scale=this.scale*this.maxImageWidth/(this.scale*this.elementDimensions.width))}getOffsets(){const t=(this.containerWidth-this.scale*this.elementDimensions.width)/2,i=(this.containerHeight-this.height)/2;return{left:t,top:i}}getOffsetCSS(){if(!this.elementDimensions)return"";const t=this.getOffsets();return`left: ${t.left}px; top: ${t.top}px;`}getDimensionsCSS(){return this.elementDimensions?`width: ${this.width}px; height: ${this.height}px`:""}getMaxImageToContainerRatio(){const t=this.elementDimensions.width/this.containerWidth,i=this.elementDimensions.height/this.containerHeight;return Math.max(t,i)}}function cs(e,t){t.player.stop()}var ds=fe('<div class="container svelte-7mipct"><img class="main-image svelte-7mipct"/> <img class="close-button svelte-7mipct" src="./close-button.svg" alt="close" role="none"/></div>');function fs(e,t){be(t,!0);const[i,n]=_t(),r=()=>Be(Qe,"$playingStone",i),s=1e3;let a=z(""),u=z(""),o=z(""),l=z(""),f=z(!1),g=z(null);const _=`Stone number ${t.stone.number}`,c=new us(t.windowWidth,t.windowHeight,void 0,1600);c.setElementDimensions(t.stone.width,t.stone.height),m(a,c.getOffsetCSS(),!0),an(()=>{t.imageLoader.onAllLoaded(()=>{m(g,t.imageLoader.imageUrls[t.index],!0)}),m(a,`width: ${c.width}px; height: ${c.height}px`),m(o,`left: ${c.width-30}px; top: 0px`);let y=c.height-85;m(l,`top: ${y}px`)});function d(){x(),setTimeout(E)}function v(){x(),setTimeout(p,s)}function p(){m(a,`transition: ${s/1e3}s ease-in-out;display: none;`+c.getOffsetCSS()+c.getDimensionsCSS())}function x(){m(a,`transition: ${s/1e3}s ease-in-out;display: inline-block;opacity: 0;`+c.getOffsetCSS()+c.getDimensionsCSS())}function E(){m(a,`transition: ${s/1e3}s ease-in-out;display: inline-block;opacity: 1;`+c.getOffsetCSS()+c.getDimensionsCSS())}function S(y){m(u,c.getDimensionsCSS(),!0),y&&y.index===t.index?(m(f,!0),d()):h(f)&&(m(f,!1),v())}He(()=>{S(r())});var A=ds(),T=P(A),I=b(T,2);I.__click=[cs,t],ht(()=>{Te(A,h(a)),Te(T,h(u)),ge(T,"src",h(g)),ge(T,"alt",_)}),ce(e,A),ye(),n()}Re(["click"]);function Et(e){var t,i,n;return e=e||window.event,e.pageX==null&&e.clientX!=null&&(t=e.target&&e.target.ownerDocument||document,i=t.documentElement,n=t.body,e.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),{x:e.pageX,y:e.pageY}}var hs=(e,t,i)=>{pr(t,-1),h(t)<0&&m(t,i.length-1)},gs=(e,t,i)=>m(t,(h(t)+1)%i.length),vs=fe('<div class="container svelte-5vdzxe"><div class="top-bar svelte-5vdzxe"><button class="svelte-5vdzxe">&lt;</button> <button class="svelte-5vdzxe">&gt;</button> <img class="close-button svelte-5vdzxe" src="./close-button2.svg" alt="close" role="none"/></div> <div class="content svelte-5vdzxe"><!></div> <div class="resize-container"></div> <img class="resize svelte-5vdzxe" alt="resize"/></div>');function _s(e,t){be(t,!0);const i=[t.slot01];let n=z(0),r,s,a=!1,u=!1,o=z(0),l=z(0),f=z(400),g=z(400),_=lt(()=>`left:${h(o)}px;top:${h(l)}px;width:${h(f)}px;height:${h(g)}px;`),c={x:0,y:0},d={x:0,y:0};const v=4;document.onmousemove=x,document.onmouseup=S;function p(w){E()}function x(w){const H=Et(w);a&&(m(o,H.x-c.x),m(l,H.y-c.y),h(o)<0&&m(o,0),h(l)<0&&m(l,0),h(o)>t.windowWidth-h(f)-v&&m(o,t.windowWidth-h(f)-v),h(l)>t.windowHeight-h(g)-v&&m(l,t.windowHeight-h(g)-v)),u&&(m(f,H.x+d.x-h(o)),m(g,H.y+d.y-h(l)),h(f)<200&&m(f,200),h(g)<200&&m(g,200),h(f)>t.windowWidth-h(o)-v&&m(f,t.windowWidth-h(o)-v),h(g)>t.windowHeight-h(l)-v&&m(g,t.windowHeight-h(l)-v))}function E(w=!1){let H,K;w?(H=K=0,s.style.opacity="0"):(H=`${r.scrollTop+r.clientHeight-s.offsetHeight}px`,K=`${r.scrollLeft+r.clientWidth-s.offsetWidth}px`),s.style.top=H,s.style.left=K}function S(){a&&(a=!1),u&&(s.style.opacity="0.4",E(),u=!1)}function A(w){w.preventDefault();const H=Et(w);c.x=H.x-h(o),c.y=H.y-h(l),a=!0}function T(w){w.preventDefault();const H=Et(w);d.x=h(o)+h(f)-H.x,d.y=h(l)+h(g)-H.y,E(!0),u=!0}function I(w){const H=w.clientX-h(o),K=w.clientY-h(l),Se=h(f)-H,Xe=h(g)-K;Se<=12&&Xe<=12&&(w.preventDefault(),d.x=Se,d.y=Xe,E(!0),u=!0)}var y=vs(),D=P(y),X=P(D);X.__click=[hs,n,i];var te=b(X,2);te.__click=[gs,n,i];var ie=b(te,2);ie.__click=function(...w){t.hideSettings?.apply(this,w)};var R=b(D,2),Ee=P(R);qr(Ee,()=>i[h(n)]);var ne=b(R,4);ge(ne,"src","./rh.svg"),Ct(ne,w=>s=w,()=>s),Ct(y,w=>r=w,()=>r),ht(()=>{Te(y,h(_)),Te(X,`visibility: ${i.length>1?"visible":"hidden"};`),Te(te,`visibility: ${i.length>1?"visible":"hidden"};`)}),Pe("mousedown",y,I,!0),Pe("scroll",y,p),Pe("mousedown",D,A,!0),Pe("mousedown",ne,T,!0),ce(e,y),ye()}Re(["click"]);const ms="#272727",ps=Bt(ms);Re(["click"]);const on={columns:9,hEdgePadding:3,vEdgePadding:3,hGridSpacing:15,vGridSpacing:25},Yt=Bt(on);function ln(e){Yt.update(t=>({...t,...e}))}var ws=()=>ln(on),bs=(e,t)=>{m(t,!h(t))},ys=fe('<div class="results-container svelte-76pwdz"><div class="results-row svelte-76pwdz"><div>window width</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>window height</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>rows</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>content width</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>content height</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>horizontal edge padding</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>vertical edge padding</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>cell size</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>horizontal grid gap</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>vertical grid gap</div> <div> </div></div></div>'),Es=fe('<h1>Grid Calculations</h1> <div class="container svelte-76pwdz"><div class="settings-row svelte-76pwdz"><div>Columns:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div> <div class="settings-row svelte-76pwdz"><div class="label" title="Minimum horizontal edge padding as a % of screen width.">Horizontal Edge Padding %:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div> <div class="settings-row svelte-76pwdz"><div class="label" title="Minimum vertical edge padding as a % of screen height.">Vertical Edge Padding %:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div> <div class="settings-row svelte-76pwdz"><div class="label" title="Horizontal grid gap as a % of cell width.">Horizontal Grid Gap %:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div> <div class="settings-row svelte-76pwdz"><div class="label" title="Vertical grid gap as a % of cell height.">Vertical Grid Gap %:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div></div> <button class="svelte-76pwdz">Reset to defaults</button> <hr/> <button class="svelte-76pwdz">Show resulting grid</button> <!>',1);function Ss(e,t){be(t,!0);const[i,n]=_t(),r=()=>Be(Yt,"$gridSettings",i);let s=z(q(r().columns)),a=z(q(r().hEdgePadding)),u=z(q(r().vEdgePadding)),o=z(q(r().hGridSpacing)),l=z(q(r().vGridSpacing)),f=z(!1),g=document.body.clientWidth,_=document.body.clientHeight,c=lt(()=>new Tt(g,_,h(s),53,h(a)/100,h(u)/100,h(o)/100,h(l)/100));He(()=>{m(s,r().columns,!0),m(a,r().hEdgePadding,!0),m(u,r().vEdgePadding,!0),m(o,r().hGridSpacing,!0),m(l,r().vGridSpacing,!0)}),He(()=>{ln({columns:h(s),hEdgePadding:h(a),vEdgePadding:h(u),hGridSpacing:h(o),vGridSpacing:h(l)})});function d(w){return parseFloat(w).toFixed(2)}var v=Es(),p=b(Oi(v),2),x=P(p),E=b(P(x),2),S=b(x,2),A=b(P(S),2),T=b(S,2),I=b(P(T),2),y=b(T,2),D=b(P(y),2),X=b(y,2),te=b(P(X),2),ie=b(p,2);ie.__click=[ws];var R=b(ie,4);R.__click=[bs,f];var Ee=b(R,2);{var ne=w=>{var H=ys(),K=P(H),Se=b(P(K),2),Xe=P(Se),Xt=b(K,2),un=b(P(Xt),2),cn=P(un),Kt=b(Xt,2),dn=b(P(Kt),2),fn=P(dn),Jt=b(Kt,2),hn=b(P(Jt),2),gn=P(hn),Zt=b(Jt,2),vn=b(P(Zt),2),_n=P(vn),Qt=b(Zt,2),mn=b(P(Qt),2),pn=P(mn),$t=b(Qt,2),wn=b(P($t),2),bn=P(wn),ei=b($t,2),yn=b(P(ei),2),En=P(yn),ti=b(ei,2),Sn=b(P(ti),2),xn=P(Sn),In=b(ti,2),kn=b(P(In),2),Pn=P(kn);ht((Cn,zn,Tn,An,jn,Hn,Ln)=>{J(Xe,`${h(c).containerWidth??""}px`),J(cn,`${h(c).containerHeight??""}px`),J(fn,h(c).rows),J(gn,`${Cn??""}px`),J(_n,`${zn??""}px`),J(pn,`${Tn??""}px`),J(bn,`${An??""}px`),J(En,`${jn??""}px`),J(xn,`${Hn??""}px`),J(Pn,`${Ln??""}px`)},[()=>d(h(c).contentWidth),()=>d(h(c).contentHeight),()=>d(h(c).horizontalEdgePadding),()=>d(h(c).verticalEdgePadding),()=>d(h(c).cellWidth),()=>d(h(c).horizontalGridSpacing),()=>d(h(c).verticalGridSpacing)]),ce(w,H)};Pt(Ee,w=>{h(f)&&w(ne)})}Ge(E,()=>h(s),w=>m(s,w)),Ge(A,()=>h(a),w=>m(a,w)),Ge(I,()=>h(u),w=>m(u,w)),Ge(D,()=>h(o),w=>m(o,w)),Ge(te,()=>h(l),w=>m(l,w)),ce(e,v),ye(),n()}Re(["click"]);function xs(e,t){_s(e,{get windowWidth(){return t.windowWidth},get windowHeight(){return t.windowHeight},get hideSettings(){return t.hideSettings},slot01:n=>{Ss(n,{})},$$slots:{slot01:!0}})}var Is=(e,t)=>m(t,!0),ks=fe('<button class="svelte-1183y0g">Show Settings Window</button>'),Ps=fe("<!> <!> <!> <!>",1);function Cs(e,t){be(t,!0);const[i,n]=_t(),r=()=>Be(Yt,"$gridSettings",i),s=()=>Be(ps,"$backgroundColor",i);let a=z(!0),u=document.body.clientWidth,o=document.body.clientHeight,l=z(q(new Tt(u,o,r().columns,ke.length,r().hEdgePadding/100,r().vEdgePadding/100,r().hGridSpacing/100,r().vGridSpacing/100)));He(()=>{document.body.style.backgroundColor=s(),m(l,new Tt(u,o,r().columns,ke.length,r().hEdgePadding/100,r().vEdgePadding/100,r().hGridSpacing/100,r().vGridSpacing/100),!0)});const f=new ls(ke);new rs(u,o,9,ke.length,.01,.02,.03);const g=new os;var _=Ps(),c=Oi(_);{var d=S=>{var A=ks();A.__click=[Is,a],ce(S,A)};Pt(c,S=>{h(a)||S(d)})}var v=b(c,2);ns(v,{get stones(){return ke},get grid(){return h(l)},get imageLoader(){return f},get player(){return g}});var p=b(v,2);tn(p,17,()=>ke,en,(S,A,T)=>{fs(S,{index:T,get stone(){return h(A)},get imageLoader(){return f},get windowWidth(){return u},get windowHeight(){return o},get player(){return g}})});var x=b(p,2);{var E=S=>{xs(S,{get windowWidth(){return u},get windowHeight(){return o},hideSettings:()=>m(a,!1)})};Pt(x,S=>{h(a)&&S(E)})}ce(e,_),ye(),n()}Re(["click"]);Rr(Cs,{target:document.getElementById("app")});
